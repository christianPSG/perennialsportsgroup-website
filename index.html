<!-- Copyright (c) 2025 Professional Sports Group. All rights reserved. -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perennial Sports Group</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="psg-letters-logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="psg-letters-logo.png">
    <link rel="apple-touch-icon" href="psg-letters-logo.png">
    <link rel="shortcut icon" href="psg-letters-logo.png">
    <meta name="description" content="Data-driven college athlete representation and NIL management agency. Maximize NIL earning potential through contract negotiation, expert sports agent services, and NIL guidance for student-athletes.">
    <meta name="keywords" content="college athlete representation, NIL management, sports agent services, NIL agency, college sports agency, NIL deals, student-athlete representation, college athlete contract negotiation">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    
    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Chart.js for better chart animations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --psg-primary: #2F4157;
            --psg-secondary: #577C8D;
            --psg-accent: #C7D9E5;
            --psg-gold: #F4EFEB;
            --psg-light: #FFFFFF;
            --psg-dark: #2F4157;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: white;
            overflow-x: hidden;
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }

        body.sidebar-open {
            margin-left: 250px;
        }

        /* Smooth scrolling with snap */
        html {
            scroll-behavior: smooth;
            scroll-snap-type: y mandatory;
        }

        /* Hamburger Menu Button */
        .hamburger-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: rgba(47, 65, 87, 0.9);
            border: none;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .hamburger-btn:hover {
            background: rgba(47, 65, 87, 1);
            transform: scale(1.05);
        }

        .hamburger-line {
            display: block;
            width: 25px;
            height: 3px;
            background: white;
            margin: 5px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .hamburger-btn.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }

        .hamburger-btn.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .hamburger-btn.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(8px, -8px);
        }

        /* Navigation */
        .navbar {
            background: rgba(47, 65, 87, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem 1rem;
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100vh;
            z-index: 1000;
            transition: all 0.3s ease;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .navbar.open {
            left: 0;
        }

        /* Sidebar Overlay */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .navbar.scrolled {
            background: rgba(47, 65, 87, 0.98);
        }

        .navbar-brand {
            color: white !important;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .navbar-logo {
            transition: all 0.3s ease;
            max-width: 180px;
            height: auto;
        }

        .navbar-logo:hover {
            transform: scale(1.05);
        }

        .navbar-nav {
            flex-direction: column !important;
            width: 100%;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-item {
            width: 100%;
        }

        .navbar-nav .nav-link {
            color: rgba(255, 255, 255, 0.9) !important;
            font-weight: 500;
            margin: 0.5rem 0;
            padding: 1rem 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            border-radius: 8px;
            text-align: center;
            text-decoration: none;
            display: block;
        }

        .navbar-nav .nav-link:hover {
            color: var(--psg-gold) !important;
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .navbar-nav .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 100%;
            top: 0;
            left: 0;
            background-color: var(--psg-gold);
            transition: all 0.3s ease;
            border-radius: 8px 0 0 8px;
        }

        .navbar-nav .nav-link:hover::after {
            width: 4px;
        }

        /* Hero Section */
        .hero {
            background: black;
            background-size: cover;
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            scroll-snap-align: start;
        }

        /* Particles.js container */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
        }

        /* Light particles for other sections */
        #particles-scroll-section,
        #particles-mission-vision,
        #particles-contact,
        #particles-social {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
        }

        /* Ensure all charts, canvases, and maps stay above particles */
        canvas, iframe, .position-chart, .mobility-chart-container {
            position: relative;
            z-index: 10 !important;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
        }


        .hero-content {
            position: relative;
            z-index: 2;
            color: white;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            padding-top: 20vh;
        }

        .hero-logo {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-stats {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 4rem;
            position: absolute;
            bottom: 3rem;
            left: 5%;
            right: 5%;
            margin: 0 auto;
            width: 90%;
            opacity: 0;
            animation: fadeInUp 1s ease-out 1s both;
        }

        .hero-stats .stat-item:nth-child(2) {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .stat-item {
            text-align: center;
            color: white;
        }

        .stat-number {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 3rem;
            font-weight: 600;
            color: #B0B0B0;
            opacity: 0.7;
            line-height: 1;
            display: inline;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .stat-suffix {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 3rem;
            font-weight: 600;
            color: #B0B0B0;
            opacity: 0.7;
            line-height: 1;
            display: inline;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .stat-text {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 3rem;
            font-weight: 600;
            color: #B0B0B0;
            opacity: 0.7;
            line-height: 1;
            margin-bottom: 0.5rem;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .stat-label {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1rem;
            font-weight: 400;
            color: #B0B0B0;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.5rem;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .hero-brand-logo {
            height: 400px;
            transition: all 0.3s ease;
            display: block;
            max-width: 90vw;
            object-fit: contain;
            margin-bottom: 1rem;
        }

        .hero-tagline {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 2.2rem;
            font-weight: 600;
            color: #B0B0B0;
            text-align: center;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin: -8rem 0 0 0;
            animation: fadeInUp 1.2s ease-out 0.5s both;
            white-space: nowrap;
            overflow: hidden;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .hero-cta-button {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: grey;
            padding: 1rem 2.5rem;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-top: 2rem;
            opacity: 0;
            animation: fadeInUp 1s ease-out 1s both;
            backdrop-filter: blur(10px);
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .hero-cta-button:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            color: white;
            text-decoration: none;
        }

        .hero-cta-button:active {
            transform: translateY(0);
        }

        /* New Section with Scroll Lock Effect */
        .scroll-section {
            background: black;
            min-height: 85vh;
            position: relative;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 1.5rem 0;
            scroll-snap-align: start;
        }
        
        .scroll-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: black;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease-in-out;
            z-index: 50;
        }
        
        /* Removed fade effect for contact section */

        .scroll-section-container {
            display: flex;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            align-items: center;
            gap: 4rem;
            padding: 0 2rem;
        }

        .scroll-section-text {
            flex: 3;
            max-width: 700px;
        }

        .scroll-section-canvas {
            flex: 1;
            height: 800px;
            position: relative;
            overflow: hidden;
        }

        #basketball-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        /* Black fade overlay */
        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: black;
            opacity: 0;
            z-index: 3;
            transition: opacity 0.8s ease;
            pointer-events: none;
        }

        .hero.fade-out::after {
            opacity: 1;
        }

        .scroll-section-content {
            text-align: left;
            max-width: 800px;
            padding: 0 2rem;
        }

        .scroll-section h2 {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .scroll-section p {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.2rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease 0.2s;
        }

        .scroll-section.visible h2,
        .scroll-section.visible p {
            opacity: 1;
            transform: translateY(0);
        }

        /* Scroll section tagline styling to match hero tagline */
        .scroll-section-tagline {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 2.2rem;
            font-weight: 600;
            color: #B0B0B0;
            text-align: left;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 2rem;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .scroll-section-description {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        /* Animation states for mission vision text */
        .mission-vision-visible .scroll-section-tagline {
            opacity: 1;
            transform: translateY(0);
        }

        .mission-vision-visible .scroll-section-description:nth-of-type(1) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.2s;
        }

        .mission-vision-visible .scroll-section-description:nth-of-type(2) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.4s;
        }

        .mission-vision-visible .scroll-section-description:nth-of-type(3) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.6s;
        }

        /* Boxes styling */
        .scroll-section-boxes {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .scroll-section-box {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
        }

        .box-number {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: #B0B0B0;
            min-width: 30px;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .box-text {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.1rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Services Container Styling */
        .services-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 2rem;
        }

        .service-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .service-box:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .service-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem 1.5rem;
            user-select: none;
        }

        .service-title {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #B0B0B0;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .service-toggle {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.5rem;
            font-weight: 300;
            color: #B0B0B0;
            transition: transform 0.3s ease;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .service-box.expanded .service-toggle {
            transform: rotate(45deg);
        }

        .service-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 1.5rem;
        }

        .service-box.expanded .service-content {
            max-height: 200px;
            padding: 0 1.5rem 1.2rem 1.5rem;
        }

        .service-content p {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            margin: 0;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Mission and Vision Section Styling */
        .mission-vision-content {
            text-align: left;
        }

        .mission-content {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin-top: 2rem;
        }

        .mission-item {
            padding: 1.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mission-item:last-child {
            border-bottom: none;
        }

        .mission-item h3 {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: #B0B0B0;
            margin-bottom: 1rem;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .mission-item p {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
        }

        /* Player Profile Interface Styling */
        #player-profile-container {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 30px;
            margin: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            min-height: 800px;
            height: auto;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: visible;
        }

        #player-profile-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(199, 217, 229, 0.05) 50%, transparent 70%);
            pointer-events: none;
        }

        .player-profile-header {
            margin-bottom: 35px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .player-profile-header h3 {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: #C7D9E5;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.9;
        }

        .player-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 1px solid rgba(199, 217, 229, 0.2);
        }

        .player-name {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .player-position {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.1rem;
            color: #F4EFEB;
            font-weight: 500;
            opacity: 0.9;
        }

        .player-stats-summary {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(199, 217, 229, 0.2);
        }

        .stat-summary-item {
            text-align: center;
        }

        .stat-summary-value {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: #F4EFEB;
        }

        .stat-summary-label {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 0.8rem;
            color: #C7D9E5;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 2px;
        }

        .analytics-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 25px;
            position: relative;
            z-index: 2;
        }

        .analytics-option {
            background: linear-gradient(135deg, rgba(87, 124, 141, 0.3), rgba(47, 65, 87, 0.4));
            border: 1px solid rgba(199, 217, 229, 0.2);
            border-radius: 12px;
            padding: 12px 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .analytics-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(199, 217, 229, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .analytics-option:hover::before {
            left: 100%;
        }

        .analytics-option:hover {
            background: linear-gradient(135deg, rgba(87, 124, 141, 0.5), rgba(47, 65, 87, 0.6));
            border-color: #C7D9E5;
            transform: translateX(8px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .analytics-option.active {
            background: linear-gradient(135deg, rgba(199, 217, 229, 0.3), rgba(87, 124, 141, 0.4));
            border-color: #F4EFEB;
            box-shadow: 0 0 30px rgba(199, 217, 229, 0.3);
            transform: translateX(8px);
        }

        .analytics-option.expanded {
            background: linear-gradient(135deg, rgba(199, 217, 229, 0.2), rgba(87, 124, 141, 0.3));
            border-color: #F4EFEB;
        }

        .option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .option-label {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 0.95rem;
            font-weight: 500;
            color: white;
        }

        .option-value {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1rem;
            font-weight: 700;
            color: #F4EFEB;
        }

        .option-toggle {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.2rem;
            color: #C7D9E5;
            transition: transform 0.3s ease;
            margin-left: 10px;
        }

        .analytics-option.expanded .option-toggle {
            transform: rotate(45deg);
        }

        .option-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
            padding: 0 0;
        }

        .analytics-option.expanded .option-content {
            max-height: 400px;
            padding: 20px 0 0 0;
        }

        .chart-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 350px;
            position: relative;
            z-index: 10;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            border: 1px solid rgba(199, 217, 229, 0.1);
            padding: 20px;
        }

        #distribution-chart {
            max-width: 100%;
            max-height: 100%;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.5);
        }

        .metric-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .metric-detail-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid rgba(199, 217, 229, 0.1);
        }

        .metric-detail-label {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 0.8rem;
            color: #C7D9E5;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .metric-detail-value {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #F4EFEB;
        }
        /* Pocket Mobility Section Styling */
        .pocket-mobility-section {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin: 0;
        }

        .mobility-title {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: #F4EFEB;
            text-align: center;
            margin-bottom: 25px;
            background: linear-gradient(135deg, #C7D9E5, #F4EFEB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .mobility-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(199, 217, 229, 0.1);
        }

        .mobility-score {
            text-align: center;
        }

        .score-value {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 3rem;
            font-weight: 900;
            color: #C7D9E5;
            line-height: 1;
        }

        .score-label {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.5rem;
            color: rgba(244, 239, 235, 0.7);
            margin-left: 5px;
        }

        .mobility-comparison {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .comparison-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: rgba(199, 217, 229, 0.05);
            border-radius: 8px;
            min-width: 200px;
            border: 1px solid rgba(199, 217, 229, 0.1);
        }

        .comparison-label {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: rgba(244, 239, 235, 0.8);
            font-size: 0.9rem;
        }

        .comparison-value {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: #4caf50;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .mobility-chart-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 100%;
            padding: 2rem;
            background: transparent;
            border-radius: 0;
            border: none;
            gap: 2rem;
        }

        .position-chart {
            width: 100%;
            max-width: 900px;
            height: 400px;
            border-radius: 0;
            background: transparent;
            border: none;
            box-shadow: none;
            opacity: 0;
            transform: scale(0.3);
            transition: all 1.2s ease;
        }

        .mission-vision-visible .position-chart {
            opacity: 1;
            transform: scale(1);
        }

        .mission-vision-visible .position-chart:first-child {
            transition-delay: 0.8s;
        }

        .mission-vision-visible .position-chart:last-child {
            transition-delay: 1.0s;
        }


        .mission-item p {
            margin: 0;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        #mission-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        /* Hero fade effect on scroll - black fade */
        .hero.fade-out {
            transition: all 0.8s ease;
        }

        .hero.fade-out::after {
            opacity: 1;
        }


        /* Section Styling */
        .section {
            padding: 6rem 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--psg-primary);
            margin-bottom: 1rem;
        }

        .section-title p {
            font-size: 1.1rem;
            color: white;
            max-width: 600px;
            margin: 0 auto;
        }


        /* Contact Section */
        .contact-section {
            background: black;
            min-height: 100vh;
            position: relative;
            z-index: 10;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            color: white;
            padding: 2rem 0;
            scroll-snap-align: start;
        }

        .contact-info-section {
            margin: 1rem 0;
        }

        .contact-info-title {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: #B0B0B0;
            margin-bottom: 1rem;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .contact-section.visible .contact-item:nth-child(2) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.2s;
        }

        .contact-section.visible .contact-item:nth-child(3) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.4s;
        }

        .contact-section.visible .contact-item:nth-child(4) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.6s;
        }

        .contact-item i {
            color: #C7D9E5;
            font-size: 1.2rem;
            width: 20px;
        }

        .contact-item strong {
            color: #F4EFEB;
        }

        .contact-form-section {
            margin-top: 1rem;
        }

        .contact-form-styled {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1rem;
            backdrop-filter: blur(10px);
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .contact-section.visible .contact-form-styled {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.8s;
        }

        .form-group {
            margin-bottom: 0.8rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.3rem;
            font-weight: 500;
            color: #C7D9E5;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .form-control {
            width: 100%;
            padding: 0.6rem 0.8rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 0.9rem;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: all 0.3s ease;
        }

        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .form-control:focus {
            outline: none;
            border-color: #C7D9E5;
            box-shadow: 0 0 0 2px rgba(199, 217, 229, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 80px;
        }

        .contact-submit-btn {
            background: rgba(199, 217, 229, 0.1);
            border: 2px solid rgba(199, 217, 229, 0.3);
            color: #C7D9E5;
            padding: 0.8rem 2rem;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            width: 100%;
            backdrop-filter: blur(10px);
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            position: relative;
            z-index: 100 !important;
        }

        .contact-submit-btn:hover {
            background: rgba(199, 217, 229, 0.2);
            border-color: rgba(199, 217, 229, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            color: white;
        }

        .contact-submit-btn:active {
            transform: translateY(0);
        }

        /* Social Media Section */
        .social-section {
            background: var(--psg-light);
            padding: 3rem 0;
            border-top: 1px solid #e2e8f0;
        }

        .social-section h4 {
            color: var(--psg-primary);
            font-weight: 600;
            margin-bottom: 2rem;
        }

        .social-links-section {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
        }

        .social-link-large {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            background: white;
            color: var(--psg-primary);
            border-radius: 15px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .social-link-large:hover {
            background: var(--psg-primary);
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(47, 65, 87, 0.3);
        }

        .social-link-large i {
            font-size: 1.5rem;
        }

        .social-link-large svg {
            width: 24px;
            height: 24px;
        }

        /* Footer */
        .footer {
            background: var(--psg-dark);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        .footer p {
            margin: 0;
            color: rgba(255, 255, 255, 0.6);
        }

        @media (max-width: 768px) {
            .social-links-section {
                gap: 1.5rem;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hamburger-btn {
                top: 15px;
                left: 15px;
                padding: 10px;
            }
            
            .hamburger-line {
                width: 20px;
                height: 2px;
                margin: 4px 0;
            }
            
            .navbar {
                width: 280px;
                left: -280px;
            }
            
            .navbar.open {
                left: 0;
            }
            
            body.sidebar-open {
                margin-left: 0;
            }
            
            .hero {
                padding: 2rem 0;
                min-height: 100vh;
            }
            
            .hero-brand-logo {
                height: 250px;
                max-width: 85vw;
                margin-bottom: 0.75rem;
            }

            .hero-tagline {
                font-size: 1.6rem;
                letter-spacing: 2px;
                white-space: nowrap;
                margin: -0.75rem 0 0 0;
            }

            .hero-cta-button {
                font-size: .5rem;
                padding: 0.9rem 2rem;
                margin-top: 1.5rem;
            }

            .hero-stats {
                gap: 2rem;
                bottom: 3rem;
                left: 3%;
                right: 3%;
                width: 94%;
            }

            .stat-number, .stat-suffix {
                font-size: 2.2rem;
            }

            .stat-text {
                font-size: 1.8rem;
            }

            .stat-label {
                font-size: 0.9rem;
            }

            .contact-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .navbar-nav .nav-link {
                margin: 0 0.5rem;
                font-size: 0.9rem;
            }
            
            .section {
                padding: 4rem 0;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
            
            .container {
                padding: 0 1rem;
            }
        }

        /* Responsive styles for scroll section */
        @media (max-width: 1024px) {
            .scroll-section-container {
                flex-direction: column;
                gap: 3rem;
            }
            
            .scroll-section-text {
                max-width: 100%;
            }
            
            .scroll-section-canvas {
                height: 400px;
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .scroll-section-container {
                padding: 0 1rem;
                gap: 2rem;
            }
            
            .scroll-section-canvas {
                height: 350px;
            }
            
            .scroll-section h2 {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .hero-brand-logo {
                height: 200px;
                max-width: 90vw;
                margin-bottom: 0.5rem;
            }

            .hero-tagline {
                font-size: 1.2rem;
                letter-spacing: 1px;
                white-space: nowrap;
                margin: -0.5rem 0 0 0;
            }

            .hero-cta-button {
                font-size: 0.9rem;
                padding: 0.8rem 1.5rem;
                margin-top: 1rem;
            }

            .hero-stats {
                flex-direction: column;
                gap: 2rem;
                bottom: 2rem;
                position: relative;
                transform: none;
                left: auto;
                margin-top: 2rem;
            }

            .stat-number, .stat-suffix {
                font-size: 1.8rem;
            }

            .stat-text {
                font-size: 1.4rem;
            }

            .stat-label {
                font-size: 0.8rem;
            }
            
            .navbar-nav .nav-link {
                margin: 0 0.25rem;
                font-size: 0.85rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out;
        }

        /* Notification Popup Styles */
        .notification-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            max-width: 400px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideInRight 0.3s ease-out;
        }

        .notification-popup.success {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .notification-popup.error {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }

        .notification-content {
            padding: 1rem 1.5rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .notification-message {
            flex: 1;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .notification-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.2s ease;
        }

        .notification-close:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 480px) {
            .notification-popup {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
            }
        }

        /* ===== COMPREHENSIVE MOBILE OPTIMIZATIONS ===== */
        
        /* Extra small devices (phones, 576px and down) */
        @media (max-width: 576px) {
            /* COMPLETE SCROLL SNAP REMOVAL FOR MOBILE - CONTINUOUS SCROLLING */
            html {
                scroll-snap-type: none !important;
                scroll-behavior: auto !important;
                overflow-x: hidden !important;
                overflow-y: auto !important;
            }
            
            body {
                scroll-snap-type: none !important;
                overflow-x: hidden !important;
                overflow-y: auto !important;
                position: relative !important;
            }
            
            .hero,
            .scroll-section,
            .contact-section {
                scroll-snap-align: none !important;
                scroll-snap-stop: normal !important;
                min-height: auto !important;
                height: auto !important;
                position: relative !important;
            }

            /* REMOVE ALL TRANSITIONS AND ANIMATIONS ON MOBILE */
            * {
                transition: none !important;
                animation: none !important;
                transform: none !important;
                will-change: auto !important;
                backface-visibility: visible !important;
                perspective: none !important;
            }

            /* DISABLE SCROLL LOCK AND FIXED POSITIONING */
            .hero {
                position: relative !important;
                overflow: visible !important;
                height: auto !important;
                min-height: 100vh !important;
            }

            .scroll-section {
                position: relative !important;
                overflow: visible !important;
                height: auto !important;
                min-height: auto !important;
            }

            /* REMOVE ANY STICKY OR FIXED ELEMENTS */
            .hero-content,
            .scroll-section-container,
            .contact-section {
                position: relative !important;
                top: auto !important;
                left: auto !important;
                right: auto !important;
                bottom: auto !important;
                transform: none !important;
            }

            /* HERO SECTION - CENTER TEXT AND FIX STATS */
            .hero-content {
                padding-top: 15vh !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
                text-align: center !important;
                width: 100% !important;
                max-width: 100% !important;
            }

            .hero-tagline {
                font-size: 1rem !important;
                letter-spacing: 1px !important;
                margin: -1rem auto 0 auto !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
                width: 90% !important;
                max-width: 90% !important;
                text-align: center !important;
                padding: 0 1rem !important;
                line-height: 1.3 !important;
                white-space: normal !important;
            }

            /* HERO STATS - PROPER CENTERING AND SIZING */
            .hero-stats {
                position: relative !important;
                bottom: auto !important;
                left: auto !important;
                right: auto !important;
                width: 100% !important;
                max-width: 100% !important;
                margin: 2rem auto 0 auto !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 1.5rem !important;
                padding: 1rem !important;
                text-align: center !important;
            }

            .hero-stats .stat-item:nth-child(2) {
                position: relative !important;
                left: auto !important;
                transform: none !important;
            }

            .stat-item {
                width: 100% !important;
                max-width: 280px !important;
                text-align: center !important;
                margin: 0 auto !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
            }

            .stat-number,
            .stat-suffix,
            .stat-text {
                font-size: 1.2rem !important;
                font-weight: 600 !important;
                color: #B0B0B0 !important;
                opacity: 0.7 !important;
                line-height: 1.2 !important;
                text-align: center !important;
                display: inline !important;
                margin: 0 !important;
            }

            .stat-label {
                font-size: 0.7rem !important;
                line-height: 1.3 !important;
                text-align: center !important;
                margin-top: 0.3rem !important;
                color: #B0B0B0 !important;
                text-transform: uppercase !important;
                letter-spacing: 1px !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
            }

            /* CONTENT CONTAINERS - PROPER WIDTH AND SPACING */
            .hero,
            .scroll-section {
                padding: 2rem 0 !important;
                width: 100% !important;
                max-width: 100% !important;
                overflow-x: hidden !important;
            }

            .scroll-section-container {
                padding: 0 1.5rem !important;
                width: 100% !important;
                max-width: 100% !important;
                margin: 0 auto !important;
                box-sizing: border-box !important;
                overflow-x: hidden !important;
            }

            /* TEXT SECTIONS - BETTER SPACING AND READABILITY */
            .scroll-section-tagline {
                font-size: 1.4rem !important;
                letter-spacing: 1px !important;
                text-align: center !important;
                padding: 0 1rem !important;
                margin-bottom: 1.5rem !important;
                line-height: 1.3 !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
            }
            
            .scroll-section-description {
                font-size: 1rem !important;
                line-height: 1.6 !important;
                padding: 0 1.5rem !important;
                margin: 1rem 0 !important;
                text-align: justify !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
                hyphens: auto !important;
            }

            /* MISSION & VISION - EXPAND HORIZONTALLY FOR BETTER READABILITY */
            #mission-vision-section .scroll-section-container > div:last-child {
                display: flex !important;
                flex-direction: column !important;
                gap: 2rem !important;
                width: 100% !important;
                max-width: 100% !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            
            #mission-vision-section .scroll-section-container > div:last-child > div {
                width: 100% !important;
                max-width: 100% !important;
                padding: 1.5rem !important;
                margin: 0 !important;
                box-sizing: border-box !important;
            }

            /* TEXT CONTAINERS - EXPAND TO SCREEN EDGES */
            #mission-vision-section .scroll-section-container > div:last-child > div .scroll-section-content,
            #mission-vision-section .scroll-section-container > div:last-child > div .scroll-section-description {
                padding: 0 1rem !important;
                margin: 0 !important;
                width: 100% !important;
                max-width: 100% !important;
                text-align: justify !important;
                line-height: 1.6 !important;
                font-size: 0.95rem !important;
            }

            /* Reorder grid items for mobile: charts above text */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(1) { order: 1; } /* First chart */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(2) { order: 2; } /* First text */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(3) { order: 3; } /* Second text */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(4) { order: 4; } /* Second chart */
            
            /* Chart containers - responsive sizing */
            .mobility-chart-container {
                width: 100% !important;
                height: 220px !important;
                padding: 1rem !important;
                margin: 0 auto !important;
            }
            
            .position-chart {
                width: 100% !important;
                height: 200px !important;
                max-width: 100% !important;
                max-height: 200px !important;
            }
            
            /* Basketball court canvas - smaller on mobile */
            .scroll-section-canvas {
                height: 280px !important;
                width: 100% !important;
                margin: 1rem 0 !important;
            }
            
            #basketball-canvas {
                height: 280px !important;
                width: 100% !important;
            }
            
            /* Contact section - stack vertically */
            .contact-section .scroll-section-container > div:nth-child(2) {
                flex-direction: column !important;
                gap: 2rem !important;
            }
            
            .contact-section .scroll-section-canvas {
                display: none !important; /* Hide map on mobile */
            }
            
            .contact-section .scroll-section-text {
                width: 100% !important;
                flex: none !important;
            }
            
            /* Form improvements */
            .contact-form-styled {
                padding: 1.5rem !important;
                margin: 1rem 0 !important;
            }
            
            .form-control {
                padding: 0.8rem !important;
                font-size: 1rem !important;
                border-radius: 8px !important;
            }
            
            /* Social media icons - show and center on mobile */
            .contact-section .scroll-section-text > div:last-child {
                display: flex !important;
                justify-content: center !important;
                gap: 1.5rem !important;
                margin-top: 1.5rem !important;
                padding: 1rem !important;
            }
            
            /* Footer links - stack on very small screens */
            .contact-section .scroll-section-container > div:last-child > div:first-child {
                flex-direction: column !important;
                gap: 1rem !important;
                text-align: center !important;
            }

            /* ENSURE ALL CONTENT EXTENDS TO SCREEN EDGES */
            .scroll-section-text,
            .contact-form-styled,
            .scroll-section-text p,
            .scroll-section-text div {
                width: 100% !important;
                max-width: 100% !important;
                box-sizing: border-box !important;
                overflow-x: hidden !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
            }
        }
        
        /* Small devices (landscape phones, 576px to 768px) */
        @media (min-width: 577px) and (max-width: 768px) {
            /* COMPLETE SCROLL SNAP REMOVAL FOR MOBILE - CONTINUOUS SCROLLING */
            html {
                scroll-snap-type: none !important;
                scroll-behavior: auto !important;
                overflow-x: hidden !important;
                overflow-y: auto !important;
            }
            
            body {
                scroll-snap-type: none !important;
                overflow-x: hidden !important;
                overflow-y: auto !important;
                position: relative !important;
            }
            
            .hero,
            .scroll-section,
            .contact-section {
                scroll-snap-align: none !important;
                scroll-snap-stop: normal !important;
                min-height: auto !important;
                height: auto !important;
                position: relative !important;
            }

            /* REMOVE ALL TRANSITIONS AND ANIMATIONS ON MOBILE */
            * {
                transition: none !important;
                animation: none !important;
                transform: none !important;
                will-change: auto !important;
                backface-visibility: visible !important;
                perspective: none !important;
            }

            /* DISABLE SCROLL LOCK AND FIXED POSITIONING */
            .hero {
                position: relative !important;
                overflow: visible !important;
                height: auto !important;
                min-height: 100vh !important;
            }

            .scroll-section {
                position: relative !important;
                overflow: visible !important;
                height: auto !important;
                min-height: auto !important;
            }

            /* REMOVE ANY STICKY OR FIXED ELEMENTS */
            .hero-content,
            .scroll-section-container,
            .contact-section {
                position: relative !important;
                top: auto !important;
                left: auto !important;
                right: auto !important;
                bottom: auto !important;
                transform: none !important;
            }

            /* HERO SECTION - CENTER TEXT AND FIX STATS */
            .hero-content {
                padding-top: 15vh !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
                text-align: center !important;
                width: 100% !important;
                max-width: 100% !important;
            }

            .hero-tagline {
                font-size: 1.2rem !important;
                letter-spacing: 1.5px !important;
                margin: -1rem auto 0 auto !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
                width: 85% !important;
                max-width: 85% !important;
                text-align: center !important;
                padding: 0 1rem !important;
                line-height: 1.3 !important;
                white-space: normal !important;
            }

            /* HERO STATS - PROPER CENTERING AND SIZING */
            .hero-stats {
                position: relative !important;
                bottom: auto !important;
                left: auto !important;
                right: auto !important;
                width: 100% !important;
                max-width: 100% !important;
                margin: 2rem auto 0 auto !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
                gap: 1.5rem !important;
                padding: 1rem !important;
                text-align: center !important;
            }

            .hero-stats .stat-item:nth-child(2) {
                position: relative !important;
                left: auto !important;
                transform: none !important;
            }

            .stat-item {
                width: 100% !important;
                max-width: 300px !important;
                text-align: center !important;
                margin: 0 auto !important;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: center !important;
            }

            .stat-number,
            .stat-suffix,
            .stat-text {
                font-size: 1.4rem !important;
                font-weight: 600 !important;
                color: #B0B0B0 !important;
                opacity: 0.7 !important;
                line-height: 1.2 !important;
                text-align: center !important;
                display: inline !important;
                margin: 0 !important;
            }

            .stat-label {
                font-size: 0.8rem !important;
                line-height: 1.3 !important;
                text-align: center !important;
                margin-top: 0.3rem !important;
                color: #B0B0B0 !important;
                text-transform: uppercase !important;
                letter-spacing: 1px !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
            }

            /* CONTENT CONTAINERS - PROPER WIDTH AND SPACING */
            .hero,
            .scroll-section {
                padding: 2rem 0 !important;
                width: 100% !important;
                max-width: 100% !important;
                overflow-x: hidden !important;
            }

            .scroll-section-container {
                padding: 0 1.5rem !important;
                width: 100% !important;
                max-width: 100% !important;
                margin: 0 auto !important;
                box-sizing: border-box !important;
                overflow-x: hidden !important;
            }

            /* TEXT SECTIONS - BETTER SPACING AND READABILITY */
            .scroll-section-tagline {
                font-size: 1.6rem !important;
                letter-spacing: 1.5px !important;
                text-align: center !important;
                padding: 0 1rem !important;
                margin-bottom: 1.5rem !important;
                line-height: 1.3 !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
            }
            
            .scroll-section-description {
                font-size: 1.1rem !important;
                line-height: 1.6 !important;
                padding: 0 1.5rem !important;
                margin: 1rem 0 !important;
                text-align: justify !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
                hyphens: auto !important;
            }

            /* MISSION & VISION - EXPAND HORIZONTALLY FOR BETTER READABILITY */
            #mission-vision-section .scroll-section-container > div:last-child {
                display: flex !important;
                flex-direction: column !important;
                gap: 2rem !important;
                width: 100% !important;
                max-width: 100% !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            
            #mission-vision-section .scroll-section-container > div:last-child > div {
                width: 100% !important;
                max-width: 100% !important;
                padding: 1.5rem !important;
                margin: 0 !important;
                box-sizing: border-box !important;
            }

            /* TEXT CONTAINERS - EXPAND TO SCREEN EDGES */
            #mission-vision-section .scroll-section-container > div:last-child > div .scroll-section-content,
            #mission-vision-section .scroll-section-container > div:last-child > div .scroll-section-description {
                padding: 0 1rem !important;
                margin: 0 !important;
                width: 100% !important;
                max-width: 100% !important;
                text-align: justify !important;
                line-height: 1.6 !important;
                font-size: 1rem !important;
            }

            /* Reorder grid items for mobile: charts above text */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(1) { order: 1; } /* First chart */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(2) { order: 2; } /* First text */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(3) { order: 3; } /* Second text */
            #mission-vision-section .scroll-section-container > div:last-child > div:nth-child(4) { order: 4; } /* Second chart */
            
            /* Chart containers - responsive sizing */
            .mobility-chart-container {
                width: 100% !important;
                height: 250px !important;
                padding: 1rem !important;
                margin: 0 auto !important;
            }
            
            .position-chart {
                width: 100% !important;
                height: 230px !important;
                max-width: 100% !important;
                max-height: 230px !important;
            }
            
            /* Basketball court - medium size */
            .scroll-section-canvas {
                height: 320px !important;
                width: 100% !important;
                margin: 1rem 0 !important;
            }
            
            #basketball-canvas {
                height: 320px !important;
                width: 100% !important;
            }
            
            /* Contact section improvements - Hide map on mobile */
            .contact-section .scroll-section-container > div:nth-child(2) {
                flex-direction: column !important;
                gap: 2rem !important;
            }
            
            .contact-section .scroll-section-canvas {
                display: none !important; /* Hide map on mobile */
            }
            
            .contact-section .scroll-section-text {
                width: 100% !important;
                flex: none !important;
            }

            /* Form improvements */
            .contact-form-styled {
                padding: 1.5rem !important;
                margin: 1rem 0 !important;
            }
            
            .form-control {
                padding: 0.8rem !important;
                font-size: 1rem !important;
                border-radius: 8px !important;
            }
            
            /* Social media icons - show and center on mobile */
            .contact-section .scroll-section-text > div:last-child {
                display: flex !important;
                justify-content: center !important;
                gap: 1.5rem !important;
                margin-top: 1.5rem !important;
                padding: 1rem !important;
            }
            
            /* Footer links - stack on screens */
            .contact-section .scroll-section-container > div:last-child > div:first-child {
                flex-direction: column !important;
                gap: 1rem !important;
                text-align: center !important;
            }

            /* ENSURE ALL CONTENT EXTENDS TO SCREEN EDGES */
            .scroll-section-text,
            .contact-form-styled,
            .scroll-section-text p,
            .scroll-section-text div {
                width: 100% !important;
                max-width: 100% !important;
                box-sizing: border-box !important;
                overflow-x: hidden !important;
                word-wrap: break-word !important;
                overflow-wrap: break-word !important;
            }
        }
        
        /* Medium devices (tablets, 768px to 992px) */
        @media (min-width: 769px) and (max-width: 992px) {
            /* Mission & Vision - 2x2 grid but with smaller gaps */
            #mission-vision-section .scroll-section-container > div:last-child {
                gap: 1rem !important;
                width: 95% !important;
                height: 60vh !important;
            }
            
            .mobility-chart-container {
                width: 85% !important;
                height: 85% !important;
            }
            
            /* Text sizing adjustments */
            .scroll-section-tagline {
                font-size: 2rem !important;
            }
            
            .scroll-section-description {
                font-size: 1rem !important;
            }
            
            /* Basketball court - good size for tablets */
            .scroll-section-canvas {
                height: 400px !important;
            }
        }
        
        /* Large devices (desktops, 992px to 1200px) */
        @media (min-width: 993px) and (max-width: 1200px) {
            /* Slight adjustments for smaller desktops */
            #mission-vision-section .scroll-section-container > div:last-child {
                width: 92% !important;
                height: 62vh !important;
            }
            
            .scroll-section-container {
                max-width: 1200px !important;
            }
        }
        
        /* Touch-friendly improvements for all mobile devices */
        @media (max-width: 992px) {
            /* COMPLETE SCROLL SNAP REMOVAL FOR ALL MOBILE DEVICES */
            html {
                scroll-snap-type: none !important;
                scroll-behavior: auto !important;
                overflow-x: hidden !important;
                overflow-y: auto !important;
            }
            
            body {
                scroll-snap-type: none !important;
                overflow-x: hidden !important;
                overflow-y: auto !important;
                position: relative !important;
            }
            
            .hero,
            .scroll-section,
            .contact-section {
                scroll-snap-align: none !important;
                scroll-snap-stop: normal !important;
                min-height: auto !important;
                height: auto !important;
                position: relative !important;
            }

            /* REMOVE ALL TRANSITIONS AND ANIMATIONS ON MOBILE */
            * {
                transition: none !important;
                animation: none !important;
                transform: none !important;
                will-change: auto !important;
                backface-visibility: visible !important;
                perspective: none !important;
            }

            /* DISABLE SCROLL LOCK AND FIXED POSITIONING */
            .hero {
                position: relative !important;
                overflow: visible !important;
                height: auto !important;
                min-height: 100vh !important;
            }

            .scroll-section {
                position: relative !important;
                overflow: visible !important;
                height: auto !important;
                min-height: auto !important;
            }

            /* REMOVE ANY STICKY OR FIXED ELEMENTS */
            .hero-content,
            .scroll-section-container,
            .contact-section {
                position: relative !important;
                top: auto !important;
                left: auto !important;
                right: auto !important;
                bottom: auto !important;
                transform: none !important;
            }
            
            /* Larger touch targets */
            .hamburger-btn {
                padding: 15px !important;
                top: 10px !important;
                left: 10px !important;
            }
            
            .hamburger-line {
                width: 28px !important;
                height: 3px !important;
                margin: 6px 0 !important;
            }
            
            /* Navigation improvements */
            .navbar-nav .nav-link {
                padding: 1.2rem 1.5rem !important;
                font-size: 1.1rem !important;
            }
            
            /* Service boxes - larger touch targets */
            .service-header {
                padding: 1.5rem !important;
            }
            
            .service-title {
                font-size: 1.2rem !important;
            }
            
            /* Contact form - larger inputs */
            .form-control {
                min-height: 48px !important;
            }
            
            .contact-submit-btn {
                min-height: 48px !important;
                font-size: 1rem !important;
            }
            
            /* Social media icons - larger touch targets */
            .contact-section .scroll-section-canvas a {
                width: 60px !important;
                height: 60px !important;
            }
            
            /* Improved spacing for mobile */
            .scroll-section {
                padding: 2rem 0 !important;
            }
            
            .scroll-section-container {
                padding: 0 1rem !important;
            }
            
            /* Hero stats - better mobile layout */
            .hero-stats {
                flex-direction: column !important;
                gap: 1.5rem !important;
                position: relative !important;
                bottom: auto !important;
                margin-top: 2rem !important;
            }
            
            .hero-stats .stat-item:nth-child(2) {
                position: relative !important;
                left: auto !important;
                transform: none !important;
            }
        }
        
        /* Landscape orientation optimizations */
        @media (max-width: 992px) and (orientation: landscape) {
            /* Adjust hero section for landscape */
            .hero-content {
                padding-top: 10vh !important;
            }
            
            .hero-brand-logo {
                height: 200px !important;
            }
            
            .hero-tagline {
                font-size: 1.6rem !important;
                margin: -1rem 0 0 0 !important;
            }
            
            /* Mission & Vision - horizontal layout for landscape tablets */
            #mission-vision-section .scroll-section-container > div:last-child {
                display: grid !important;
                grid-template-columns: 1fr 1fr !important;
                grid-template-rows: 1fr 1fr !important;
                height: 50vh !important;
            }
            
            /* Basketball court - maintain good size in landscape */
            .scroll-section-canvas {
                height: 350px !important;
            }
        }
        
        /* High DPI / Retina display optimizations */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            /* Ensure crisp rendering on high DPI displays */
            .hero-brand-logo,
            .navbar-logo {
                image-rendering: -webkit-optimize-contrast !important;
                image-rendering: crisp-edges !important;
            }
            
            /* Chart rendering improvements */
            canvas {
                image-rendering: -webkit-optimize-contrast !important;
                image-rendering: crisp-edges !important;
            }
        }
        
        /* Accessibility improvements for mobile */
        @media (max-width: 992px) {
            /* Focus indicators */
            .nav-link:focus,
            .form-control:focus,
            .contact-submit-btn:focus {
                outline: 3px solid #C7D9E5 !important;
                outline-offset: 2px !important;
            }
            
            /* Reduced motion for users who prefer it */
            @media (prefers-reduced-motion: reduce) {
                * {
                    animation-duration: 0.01ms !important;
                    animation-iteration-count: 1 !important;
                    transition-duration: 0.01ms !important;
                }
            }
        }
    </style>
</head>
<body>
    <!-- Hamburger Menu Button -->
    <button class="hamburger-btn" id="hamburgerBtn">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </button>

    <!-- Navigation Sidebar -->
    <nav class="navbar" id="navbar">
        <a class="navbar-brand" href="#home">
            <img src="psg-logo-metal.png" alt="PSG" class="navbar-logo">
        </a>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#home">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#contact">Contact</a>
            </li>
        </ul>
    </nav>

    <!-- Overlay for mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div id="particles-js"></div>
        <div class="container">
            <div class="hero-content fade-in-up">
                <div class="hero-logo">
                    <img src="PSG_Chrome_Shorthand.png" alt="Perennial Sports Group" class="hero-brand-logo">
                </div>
                <h1 class="hero-tagline">Data-Driven Athlete Representation</h1>
                <a href="#contact" class="hero-cta-button">Contact Us</a>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number" data-target="100">0</div>
                        <div class="stat-suffix">k+</div>
                        <div class="stat-label">Athletes Analyzed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-text">PROPRIETARY</div>
                        <div class="stat-label">Valuation Metrics</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" data-target="230">0</div>
                        <div class="stat-suffix">m+</div>
                        <div class="stat-label">Data Points Processed</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- New Scroll Section -->
    <section class="scroll-section" id="scroll-section">
        <div id="particles-scroll-section"></div>
        <div class="scroll-section-container">
            <div class="scroll-section-text">
                <div class="scroll-section-content">
                    <h2 class="scroll-section-tagline">Who We Are</h2>
                    <p class="scroll-section-description">A technology-focused college sports agency, Perennial Sports Group offers top-tier strategies to empower college athletes to secure success in Name, Image and Likeness (NIL) negotiations, the transfer portal, athletic careers, and beyond.</p>
                    
                    <div class="services-container">
                        <div class="service-box" onclick="toggleBox(this)">
                            <div class="service-header">
                                <span class="service-title">Contract Negotiation</span>
                                <span class="service-toggle">+</span>
                            </div>
                            <div class="service-content">
                                <p>Leverage AI-driven insights to secure optimal contracts, maximizing earnings from NIL and revenue-sharing opportunities.</p>
                            </div>
                        </div>
                        
                        <div class="service-box" onclick="toggleBox(this)">
                            <div class="service-header">
                                <span class="service-title">Tech-Driven Insights</span>
                                <span class="service-toggle">+</span>
                            </div>
                            <div class="service-content">
                                <p>Harness advanced analytical methods and predictive modeling to empower athletes to successfully navigate today's dynamic college sports world.</p>
                            </div>
                        </div>
                        
                        <div class="service-box" onclick="toggleBox(this)">
                            <div class="service-header">
                                <span class="service-title">Performance Optimization</span>
                                <span class="service-toggle">+</span>
                            </div>
                            <div class="service-content">
                                <p>Utilize data-backed strategies to optimize training, prevent injury, and shape long-term success.</p>
                            </div>
                        </div>
                        
                        <div class="service-box" onclick="toggleBox(this)">
                            <div class="service-header">
                                <span class="service-title">Brand Development</span>
                                <span class="service-toggle">+</span>
                            </div>
                            <div class="service-content">
                                <p>Strategically manage endorsements, sponsorships, and digital media to build and monetize athletes' personal brands in a global market.</p>
                            </div>
                        </div>
                        
                        <div class="service-box" onclick="toggleBox(this)">
                            <div class="service-header">
                                <span class="service-title">Future-Ready Strategies</span>
                                <span class="service-toggle">+</span>
                            </div>
                            <div class="service-content">
                                <p>Pioneer NIL innovation, transfer portal navigation, and emerging market opportunities with advanced analytics and forward-thinking planning.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="scroll-section-canvas">
                <canvas id="basketball-canvas"></canvas>
            </div>
        </div>
    </section>

    <!-- Mission and Vision Section -->
    <section class="scroll-section" id="mission-vision-section" style="min-height: 100vh; padding: 1rem 0;">
        <div id="particles-mission-vision"></div>
        <div class="scroll-section-container" style="flex-direction: column;">
            <!-- Centered Mission & Vision Title -->
            <div style="text-align: center; margin-bottom: 2rem;">
                <h2 class="scroll-section-tagline" style="text-align: center; margin-bottom: 0;">Our Mission & Vision</h2>
            </div>
            
            <!-- Grid layout with 4 equal square containers fitting in viewport -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 1.5rem; width: 90%; height: 65vh; margin: 0 auto;">
                <!-- QB Chart Container -->
                <div style="display: flex; align-items: center; justify-content: center;">
                    <div class="mobility-chart-container" style="gap: 0; padding: 0; width: 80%; height: 80%; display: flex; align-items: center; justify-content: center;">
                        <canvas id="qb-mobility-chart" class="position-chart" style="width: 100%; height: 100%; max-width: 100%; max-height: 100%;"></canvas>
                    </div>
                </div>
                
                <!-- Austin Text Container -->
                <div style="display: flex; align-items: center; justify-content: center; padding: 1rem;">
                    <div class="scroll-section-content" style="text-align: center; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
                        <p class="scroll-section-description" style="margin-bottom: 0; font-size: 1.1rem; line-height: 1.5;">Based in Austin, Texas, Perennial Sports Group is a full-service management firm that employs advanced data analytics and predictive modeling to provide comprehensive management and representation to elite athletes navigating college athletics. Advanced analytical methods and AI-derived insights provide PSG with cutting-edge granular, player-level models, projections, and comparisons to leverage NIL and revenue-sharing opportunities, offer data-driven guidance, and drive long-term success.</p>
                    </div>
                </div>
                
                <!-- Bottom Text Container -->
                <div style="display: flex; align-items: center; justify-content: center; padding: 1rem;">
                    <div class="scroll-section-content" style="text-align: center; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 0 1rem;">
                        <p class="scroll-section-description" style="margin-bottom: 1rem; font-size: 1rem; line-height: 1.4; max-width: 90%;">By harnessing advanced data analytics and cutting-edge predictive modeling, Perennial Sports Group delivers actionable insights into optimizing athlete performance, enhancing NIL strategies, navigating the transfer portal, and shaping career success in the evolving college athletics landscape.</p>
                        <p class="scroll-section-description" style="margin-bottom: 0; font-size: 1rem; line-height: 1.4; max-width: 90%;">This technology-focused approach enables our agents to provide college athletes with bespoke, evidence-based management and representation that empowers our athletes to find their best fit, unlock their true potential, maximize their value, and take ownership of their athletic career.</p>
                    </div>
                </div>
                
                <!-- WR Chart Container -->
                <div style="display: flex; align-items: center; justify-content: center;">
                    <div class="mobility-chart-container" style="gap: 0; padding: 0; width: 80%; height: 80%; display: flex; align-items: center; justify-content: center;">
                        <canvas id="wr-mobility-chart" class="position-chart" style="width: 100%; height: 100%; max-width: 100%; max-height: 100%;"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section" style="padding-bottom: 4rem;">
        <div id="particles-contact"></div>
        <div class="scroll-section-container" style="flex-direction: column; align-items: flex-start; justify-content: flex-start; padding-top: 2rem;">
            <!-- Centered Title and Description -->
            <div style="text-align: center; margin-bottom: 2rem; width: 100%;">
                <h2 class="scroll-section-tagline" style="text-align: center; margin-bottom: 1rem; color: #B0B0B0 !important; opacity: 1 !important; transform: none !important;">Join Perennial Sports Group</h2>
                <p class="scroll-section-description" style="text-align: center; margin-bottom: 0; color: rgba(255, 255, 255, 0.8) !important; opacity: 1 !important; transform: none !important;">Ready to unlock your full potential, maximize your value, and take ownership over your career? Contact us now to secure a data-driven college sports agent and elevate your journey in the new NIL era of college athletics.</p>
            </div>
            
            <!-- Two Column Layout -->
            <div style="display: flex; width: 100%; gap: 2rem; align-items: flex-start;">
                <div class="scroll-section-canvas" style="display: flex; flex-direction: column; justify-content: flex-start;">
                    <div class="scroll-section-content">
                        <div class="contact-info-section">
                            <h4 class="contact-info-title" style="text-align: left;">Contact Information</h4>
                            <div class="contact-item" style="justify-content: flex-start;">
                                <i class="bi bi-geo-alt"></i>
                                <div>
                                    <strong>Austin, Texas</strong><br>
                                    Headquarters
                                </div>
                            </div>
                            <div class="contact-item" style="justify-content: flex-start;">
                                <i class="bi bi-envelope"></i>
                                <div>
                                    <strong>info@perennialsportsgroup.com</strong><br>
                                    General Inquiries
                                </div>
                            </div>
                            <div class="contact-item" style="justify-content: flex-start;">
                                <i class="bi bi-telephone"></i>
                                <div>
                                    <strong>Phone: 281.904.0332</strong><br>
                                    General Inquiries
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Map Section -->
                    <div style="margin-top: 1rem;">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3445.0234567890123!2d-97.7431!3d30.2672!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8644b599a0cc032f%3A0x5d9b464bd7754abd!2s110%20San%20Antonio%20St%2C%20Austin%2C%20TX%2078701!5e0!3m2!1sen!2sus!4v1234567890123!5m2!1sen!2sus"
                            width="100%"
                            height="300"
                            style="border:0; border-radius: 10px;"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                        
                        <!-- Social Media Icons - Positioned below map -->
                        <div style="display: flex; justify-content: center; align-items: center; gap: 1.5rem; margin-top: 1rem; position: relative; z-index: 15;">
                            <a href="https://www.instagram.com/perennialsportsgroup" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 50px; height: 50px; background: rgba(255, 255, 255, 0.1); color: #C7D9E5; border-radius: 12px; text-decoration: none; transition: all 0.3s ease; border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); position: relative; z-index: 15;">
                                <i class="bi bi-instagram" style="font-size: 1.3rem;"></i>
                            </a>
                            <a href="https://www.tiktok.com/@perennialsportsgroup" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 50px; height: 50px; background: rgba(255, 255, 255, 0.1); color: #C7D9E5; border-radius: 12px; text-decoration: none; transition: all 0.3s ease; border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); position: relative; z-index: 15;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43V7.56a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.05z"/>
                                </svg>
                            </a>
                            <a href="https://www.x.com/perennialsg" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 50px; height: 50px; background: rgba(255, 255, 255, 0.1); color: #C7D9E5; border-radius: 12px; text-decoration: none; transition: all 0.3s ease; border: 1px solid rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); position: relative; z-index: 15;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="scroll-section-text">
                    <div class="scroll-section-content">
                        <div class="contact-form-section">
                            <form id="contactForm" action="https://formspree.io/f/movwzqvv" method="POST" class="contact-form-styled">
                                <div class="form-group">
                                    <label for="name">Full Name</label>
                                    <input type="text" id="name" name="name" class="form-control" placeholder="Your full name" required>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email Address</label>
                                    <input type="email" id="email" name="email" class="form-control" placeholder="your.email@example.com" required>
                                </div>
                                <div class="form-group">
                                    <label for="sport">Sport/Position</label>
                                    <input type="text" id="sport" name="sport" class="form-control" placeholder="e.g., Football - Quarterback, Basketball - Point Guard">
                                </div>
                                <div class="form-group">
                                    <label for="school">School</label>
                                    <input type="text" id="school" name="school" class="form-control" placeholder="e.g., University of Texas, Austin High School">
                                </div>
                                <div class="form-group">
                                    <label for="class_year">Class Year</label>
                                    <input type="text" id="class_year" name="class_year" class="form-control" placeholder="e.g., Senior, Junior, Class of 2025">
                                </div>
                                <div class="form-group">
                                    <label for="message">Message</label>
                                    <textarea id="message" name="message" class="form-control" placeholder="Tell us about your career goals, current situation, and how our comprehensive services can help maximize your potential..." required></textarea>
                                </div>
                                <button type="submit" class="contact-submit-btn">Send Message</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer Links and Legal Information -->
            <div style="border-top: 1px solid rgba(199, 217, 229, 0.2); padding-top: 2rem; margin-top: 2rem; position: relative; z-index: 15; width: 100%; text-align: center;">
                <div style="display: flex; justify-content: center; align-items: center; gap: 2rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
                    <a href="#" style="color: #C7D9E5; text-decoration: none; font-size: 0.9rem; transition: color 0.3s ease; font-family: 'Inter', sans-serif;">Privacy Policy</a>
                    <a href="#" style="color: #C7D9E5; text-decoration: none; font-size: 0.9rem; transition: color 0.3s ease; font-family: 'Inter', sans-serif;">Terms of Service</a>
                    <a href="#" style="color: #C7D9E5; text-decoration: none; font-size: 0.9rem; transition: color 0.3s ease; font-family: 'Inter', sans-serif;">Cookie Policy</a>
                    <a href="#" style="color: #C7D9E5; text-decoration: none; font-size: 0.9rem; transition: color 0.3s ease; font-family: 'Inter', sans-serif;">Contact Us</a>
                </div>
                <p style="color: rgba(199, 217, 229, 0.7); font-size: 0.8rem; margin: 0; font-family: 'Inter', sans-serif; padding-bottom: 2rem;">
                     2024 Perennial Sports Group. All rights reserved.
                </p>
            </div>
            
        </div>
    </section>

    <!-- Footer removed - now integrated into contact section -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Hamburger menu functionality
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const navbar = document.getElementById('navbar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const body = document.body;

        function toggleSidebar() {
            hamburgerBtn.classList.toggle('active');
            navbar.classList.toggle('open');
            sidebarOverlay.classList.toggle('active');
            body.classList.toggle('sidebar-open');
        }

        function closeSidebar() {
            hamburgerBtn.classList.remove('active');
            navbar.classList.remove('open');
            sidebarOverlay.classList.remove('active');
            body.classList.remove('sidebar-open');
        }

        // Event listeners
        hamburgerBtn.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', closeSidebar);

        // Close sidebar when clicking on navigation links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', closeSidebar);
        });

        // Close sidebar with ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && navbar.classList.contains('open')) {
                closeSidebar();
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const offsetTop = target.offsetTop - 80; // Account for fixed navbar
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Navbar background on scroll
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Contact form handling with popup notification
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            // Simple validation
            if (!data.name || !data.email || !data.message) {
                showNotification('Please fill in all required fields.', 'error');
                return;
            }
            
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            
            // Submit to Formspree with AJAX
            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    showNotification('Thank you for your message! We will contact you soon at ' + data.email, 'success');
                    this.reset();
                } else {
                    showNotification('There was a problem sending your message. Please try again or email us directly at info@perennialsportsgroup.com', 'error');
                }
            }).catch(error => {
                showNotification('There was a problem sending your message. Please try again or email us directly at info@perennialsportsgroup.com', 'error');
            }).finally(() => {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            });
        });
        
        // Notification popup function
        function showNotification(message, type) {
            // Remove existing notification if any
            const existing = document.querySelector('.notification-popup');
            if (existing) {
                existing.remove();
            }
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification-popup ${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-message">${message}</span>
                    <button class="notification-close" onclick="this.parentElement.parentElement.remove()"></button>
                </div>
            `;
            
            // Add to page
            document.body.appendChild(notification);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // Add fade-in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in-up');
                }
            });
        }, observerOptions);

        // Observe all sections
        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        // Count-up animation for hero stats
        function animateCountUp() {
            const counters = document.querySelectorAll('.stat-number[data-target]');
            
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const duration = 1000; // 2 seconds
                const increment = target / (duration / 16); // 60fps
                let current = 0;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    counter.textContent = Math.floor(current);
                }, 16);
            });
        }

        // Start count-up animation after stats appear (1.5s delay)
        setTimeout(animateCountUp, 1500);

        // Scroll lock effect for new section with fade transitions
        let lastScrollTop = 0;
        
        window.addEventListener('scroll', function() {
            const heroSection = document.querySelector('.hero');
            const scrollSection = document.querySelector('.scroll-section');
            const missionVisionSection = document.querySelector('#mission-vision-section');
            const scrollTop = window.pageYOffset;
            const heroHeight = heroSection.offsetHeight;
            
            // Calculate fade effect based on scroll position
            const fadeStart = heroHeight * 0.6; // Start fading at 60% of hero height
            const fadeEnd = heroHeight * 0.9; // Complete fade at 90% of hero height
            
            if (scrollTop >= fadeStart && scrollTop <= fadeEnd) {
                const fadeProgress = (scrollTop - fadeStart) / (fadeEnd - fadeStart);
                heroSection.classList.add('fade-out');
                const overlay = heroSection.querySelector('::after') || heroSection;
                // Use CSS transition for smooth black fade
            } else if (scrollTop > fadeEnd) {
                heroSection.classList.add('fade-out');
            } else {
                heroSection.classList.remove('fade-out');
            }
            
            // Show scroll section content when it comes into view
            const scrollSectionRect = scrollSection.getBoundingClientRect();
            if (scrollSectionRect.top < window.innerHeight * 0.8) {
                scrollSection.classList.add('visible');
            }
            
            // Show mission vision section content when it comes into view
            if (missionVisionSection) {
                const missionVisionRect = missionVisionSection.getBoundingClientRect();
                if (missionVisionRect.top < window.innerHeight * 0.7) {
                    missionVisionSection.classList.add('mission-vision-visible');
                }
            }

            // Contact section scroll animations
            const contactSection = document.querySelector('.contact-section');
            if (contactSection) {
                const contactRect = contactSection.getBoundingClientRect();
                if (contactRect.top < window.innerHeight * 0.8) {
                    contactSection.classList.add('visible');
                }
            }
            
            // Section fade transitions - only at very end of scroll
            const sections = document.querySelectorAll('.scroll-section');
            const scrollDirection = scrollTop > lastScrollTop ? 'down' : 'up';
            
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                const sectionTop = rect.top;
                const sectionBottom = rect.bottom;
                const windowHeight = window.innerHeight;
                
                // Only fade when section is almost completely out of view
                if (scrollDirection === 'down' && sectionTop < -windowHeight * 0.8) {
                    // Scrolling down, fade out sections that are almost completely above viewport
                    section.classList.add('fade-out');
                } else if (scrollDirection === 'up' && sectionBottom > windowHeight * 1.8) {
                    // Scrolling up, fade out sections that are almost completely below viewport
                    section.classList.add('fade-out');
                } else if (sectionTop >= -windowHeight * 0.7 && sectionBottom <= windowHeight * 1.7) {
                    // Section is mostly in view, remove fade
                    section.classList.remove('fade-out');
                }
            });
            
            lastScrollTop = scrollTop;
        });

        // Initialize Particles.js
        particlesJS('particles-js', {
            "particles": {
                "number": {
                    "value": 80,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": {
                    "value": "#ffffff"
                },
                "shape": {
                    "type": "circle",
                    "stroke": {
                        "width": 0,
                        "color": "#000000"
                    },
                    "polygon": {
                        "nb_sides": 5
                    }
                },
                "opacity": {
                    "value": 0.5,
                    "random": false,
                    "anim": {
                        "enable": false,
                        "speed": 1,
                        "opacity_min": 0.1,
                        "sync": false
                    }
                },
                "size": {
                    "value": 3,
                    "random": true,
                    "anim": {
                        "enable": false,
                        "speed": 40,
                        "size_min": 0.1,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#ffffff",
                    "opacity": 0.4,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 6,
                    "direction": "none",
                    "random": false,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false,
                    "attract": {
                        "enable": false,
                        "rotateX": 600,
                        "rotateY": 1200
                    }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": {
                        "enable": true,
                        "mode": "repulse"
                    },
                    "onclick": {
                        "enable": true,
                        "mode": "push"
                    },
                    "resize": true
                },
                "modes": {
                    "grab": {
                        "distance": 400,
                        "line_linked": {
                            "opacity": 1
                        }
                    },
                    "bubble": {
                        "distance": 400,
                        "size": 40,
                        "duration": 2,
                        "opacity": 8,
                        "speed": 3
                    },
                    "repulse": {
                        "distance": 200,
                        "duration": 0.4
                    },
                    "push": {
                        "particles_nb": 4
                    },
                    "remove": {
                        "particles_nb": 2
                    }
                }
            },
            "retina_detect": true
        });

        // Initialize lighter particles for other sections
        function initLightParticles() {
            // Light particles config - moderately reduced from main hero
            const lightParticlesConfig = {
                "particles": {
                    "number": {
                        "value": 120, // Increased for better visibility on dark backgrounds
                        "density": {
                            "enable": true,
                            "value_area": 600 // Denser particles for dark sections
                        }
                    },
                    "color": {
                        "value": "#1e3a8a"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        }
                    },
                    "opacity": {
                        "value": 0.5, // Increased for better visibility on dark backgrounds
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 0.8,
                            "opacity_min": 0.2,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 2.5, // Slightly smaller particles (vs 3 on hero)
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 25,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150, // Increased connection distance
                        "color": "#1e3a8a",
                        "opacity": 0.4, // Increased opacity for better visibility on dark backgrounds
                        "width": 1 // Standard line width
                    },
                    "move": {
                        "enable": true,
                        "speed": 3.5, // Moderate movement (vs 6 on hero)
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false // Disable hover effects for lighter impact
                        },
                        "onclick": {
                            "enable": false // Disable click effects for lighter impact
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            };

            // Initialize particles for each section
            particlesJS('particles-scroll-section', lightParticlesConfig);
            particlesJS('particles-mission-vision', lightParticlesConfig);
            particlesJS('particles-contact', lightParticlesConfig);
            particlesJS('particles-social', lightParticlesConfig);
        }

        // Initialize light particles after main particles
        setTimeout(() => {
            initLightParticles();
        }, 1000);

        // Three.js Basketball Court Scene
        let scene, camera, renderer, court, pillars = [];
        let isScrollSectionVisible = false;

        function initBasketballScene() {
            const canvas = document.getElementById('basketball-canvas');
            const container = canvas.parentElement;
            
            // Scene setup
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x000000);
            
            // Camera setup - start completely vertical overhead
            camera = new THREE.PerspectiveCamera(75, container.offsetWidth / container.offsetHeight, 0.1, 1000);
            camera.position.set(0, 30, 0);
            camera.lookAt(0, 0, 0);
            
            // Renderer setup
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
            renderer.setSize(container.offsetWidth, container.offsetHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
            // Lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 20, 10);
            directionalLight.castShadow = true;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            scene.add(directionalLight);
            
            // Create basketball court
            createBasketballCourt();
            
            // Create shot frequency pillars
            createShotFrequencyPillars();
            
            // Handle window resize
            window.addEventListener('resize', onWindowResize);
            
            // Start animation loop
            animate();
            
            // Setup GSAP ScrollTrigger
            setupScrollTrigger();
        }

        function createBasketballCourt() {
            // Half court dimensions: 47 feet x 50 feet (scaled down)
            const courtWidth = 25; // Half court width
            const courtLength = 23.5; // Half court length
            
            // Position grid so basket is on the edge (front edge of the court)
            const gridOffsetZ = courtLength/2; // Move grid forward so basket is on edge
            
            // Create flat grid on X,Z axis with dark blue gridlines
            const gridHelper = new THREE.GridHelper(courtLength, 20, 0x1a237e, 0x1a237e); // Dark blue gridlines
            gridHelper.material.transparent = true;
            gridHelper.material.opacity = 0.6;
            gridHelper.position.set(0, 0.01, gridOffsetZ);
            scene.add(gridHelper);
            
            // Add perpendicular grid lines for complete grid
            const gridHelper2 = new THREE.GridHelper(courtWidth, 16, 0x1a237e, 0x1a237e);
            gridHelper2.material.transparent = true;
            gridHelper2.material.opacity = 0.6;
            gridHelper2.rotateY(Math.PI / 2);
            gridHelper2.position.set(0, 0.01, gridOffsetZ);
            scene.add(gridHelper2);
            
            // Translucent court base
            const courtGeometry = new THREE.PlaneGeometry(courtWidth, courtLength);
            const courtMaterial = new THREE.MeshLambertMaterial({
                color: 0x000000,
                transparent: true,
                opacity: 0.1
            });
            court = new THREE.Mesh(courtGeometry, courtMaterial);
            court.rotation.x = -Math.PI / 2;
            court.position.set(0, 0, gridOffsetZ);
            court.receiveShadow = true;
            scene.add(court);
            
            // Proper 3-point line using actual basketball court dimensions
            // NBA 3-point line: 23'9" (7.24m) at top of arc, 22' (6.7m) in corners
            
            // Create the curved arc portion of the 3-point line
            const arcPoints = [];
            const basketZ = -5.25;
            const arcRadius = 6.75; // 22 feet in our scale
            const cornerDistance = 6.7; // Distance from basket to corner 3-point line
            
            // Generate points for the arc (from corner to corner)
            const startAngle = Math.acos(cornerDistance / arcRadius); // Angle where arc meets corner line
            const endAngle = Math.PI - startAngle;
            
            for (let angle = startAngle; angle <= endAngle; angle += 0.05) {
                const x = Math.cos(angle) * arcRadius;
                const z = basketZ + Math.sin(angle) * arcRadius;
                arcPoints.push(new THREE.Vector3(x, 0.03, z));
            }
            
            // Create the arc geometry using BufferGeometry
            const arcGeometry = new THREE.BufferGeometry().setFromPoints(arcPoints);
            const threePointMaterial = new THREE.LineBasicMaterial({
                color: 0xffffff,
                linewidth: 5
            });
            const threePointArc = new THREE.Line(arcGeometry, threePointMaterial);
            scene.add(threePointArc);
            
            // Corner lines removed - keeping only the arc
            
            // Free throw line removed - was thick white line
            
            // Basketball hoop - made twice as tall (6.1 instead of 3.05)
            const hoopGeometry = new THREE.RingGeometry(0.45, 0.5, 16);
            const hoopMaterial = new THREE.MeshLambertMaterial({ color: 0xff6600 });
            const hoop = new THREE.Mesh(hoopGeometry, hoopMaterial);
            hoop.rotation.x = -Math.PI / 2;
            hoop.position.set(0, 6.1, -5.25);
            scene.add(hoop);
            
            // Backboard - also raised to match hoop height
            const backboardGeometry = new THREE.PlaneGeometry(1.8, 1.05);
            const backboardMaterial = new THREE.MeshLambertMaterial({
                color: 0xffffff,
                transparent: true,
                opacity: 0.9
            });
            const backboard = new THREE.Mesh(backboardGeometry, backboardMaterial);
            backboard.position.set(0, 6.5, -6);
            scene.add(backboard);
            
            // Main basketball pole/support - full height
            const poleGeometry = new THREE.CylinderGeometry(0.1, 0.12, 6.5, 8);
            const poleMaterial = new THREE.MeshLambertMaterial({ color: 0x666666 });
            const pole = new THREE.Mesh(poleGeometry, poleMaterial);
            pole.position.set(0, 3.25, -6);
            scene.add(pole);
            
            // Horizontal support arm connecting pole to hoop
            const armGeometry = new THREE.CylinderGeometry(0.06, 0.06, 0.75, 6);
            const armMaterial = new THREE.MeshLambertMaterial({ color: 0x666666 });
            const arm = new THREE.Mesh(armGeometry, armMaterial);
            arm.rotation.z = Math.PI / 2;
            arm.position.set(0, 6.1, -5.625);
            scene.add(arm);
            
            // Hoop mounting bracket
            const bracketGeometry = new THREE.CylinderGeometry(0.08, 0.08, 0.2, 6);
            const bracketMaterial = new THREE.MeshLambertMaterial({ color: 0x444444 });
            const bracket = new THREE.Mesh(bracketGeometry, bracketMaterial);
            bracket.position.set(0, 6.1, -5.25);
            scene.add(bracket);
        }

        function createShotFrequencyPillars() {
            // Generate realistic basketball shooting pattern data
            // Basket is at (0, 0, -5.25)
            const shotData = [];
            const basketX = 0;
            const basketZ = -5.25;
            
            // Paint area shots (high frequency, high efficiency) - close to basket
            for (let i = 0; i < 25; i++) {
                const angle = Math.random() * Math.PI; // Half circle in front of basket
                const radius = 1 + Math.random() * 2.5;
                const x = basketX + Math.cos(angle) * radius;
                const z = basketZ + Math.sin(angle) * radius;
                
                shotData.push({
                    x: x,
                    z: z,
                    frequency: 80 + Math.random() * 120,
                    efficiency: 0.55 + Math.random() * 0.25
                });
            }
            
            // Mid-range shots (moderate frequency, moderate efficiency)
            for (let i = 0; i < 35; i++) {
                const angle = Math.random() * Math.PI; // Half circle in front of basket
                const radius = 3 + Math.random() * 4;
                const x = basketX + Math.cos(angle) * radius;
                const z = basketZ + Math.sin(angle) * radius;
                
                shotData.push({
                    x: x,
                    z: z,
                    frequency: 30 + Math.random() * 80,
                    efficiency: 0.35 + Math.random() * 0.25
                });
            }
            
            // Three-point shots along the arc (proper 3-point line)
            for (let i = 0; i < 30; i++) {
                const angle = Math.random() * Math.PI; // Half circle arc
                const radius = 6.75 + Math.random() * 0.3; // NBA 3-point distance
                const x = basketX + Math.cos(angle) * radius;
                const z = basketZ + Math.sin(angle) * radius;
                
                shotData.push({
                    x: x,
                    z: z,
                    frequency: 15 + Math.random() * 50,
                    efficiency: 0.28 + Math.random() * 0.25
                });
            }
            
            // Corner three-pointers (specific spots)
            for (let i = 0; i < 8; i++) {
                const side = i < 4 ? -1 : 1;
                const x = side * (7 + Math.random() * 0.5); // Corner 3 distance
                const z = basketZ + 1 + Math.random() * 2; // Slightly in front of basket
                
                shotData.push({
                    x: x,
                    z: z,
                    frequency: 25 + Math.random() * 40,
                    efficiency: 0.32 + Math.random() * 0.18
                });
            }
            
            // Free throw line shots
            for (let i = 0; i < 15; i++) {
                const x = (Math.random() - 0.5) * 6; // Spread around free throw line
                const z = basketZ + 4.25; // Free throw distance from basket
                
                shotData.push({
                    x: x,
                    z: z,
                    frequency: 40 + Math.random() * 60,
                    efficiency: 0.38 + Math.random() * 0.22
                });
            }
            
            // Extended range shots (beyond 3-point line)
            for (let i = 0; i < 12; i++) {
                const angle = Math.random() * Math.PI;
                const radius = 8 + Math.random() * 2; // Deep 3s
                const x = basketX + Math.cos(angle) * radius;
                const z = basketZ + Math.sin(angle) * radius;
                
                shotData.push({
                    x: x,
                    z: z,
                    frequency: 5 + Math.random() * 25,
                    efficiency: 0.25 + Math.random() * 0.20
                });
            }
            
            shotData.forEach((shot, index) => {
                // Calculate pillar height based on frequency (normalize to 0-6 range)
                const height = (shot.frequency / 200) * 6 + 0.3;
                
                // Use PSG website colors based on efficiency
                const efficiency = shot.efficiency;
                let color;
                
                if (efficiency >= 0.5) {
                    // High efficiency: PSG Gold (#F4EFEB)
                    color = new THREE.Color(0xF4EFEB);
                } else if (efficiency >= 0.4) {
                    // Medium efficiency: PSG Accent (#C7D9E5)
                    color = new THREE.Color(0xC7D9E5);
                } else if (efficiency >= 0.35) {
                    // Low-medium efficiency: PSG Secondary (#577C8D)
                    color = new THREE.Color(0x577C8D);
                } else {
                    // Low efficiency: PSG Primary (#2F4157)
                    color = new THREE.Color(0x2F4157);
                }
                
                // Create pillar with smaller radius for more instances
                const pillarGeometry = new THREE.CylinderGeometry(0.15, 0.2, height, 8);
                const pillarMaterial = new THREE.MeshLambertMaterial({
                    color: color,
                    transparent: true,
                    opacity: 0.85
                });
                const pillar = new THREE.Mesh(pillarGeometry, pillarMaterial);
                pillar.position.set(shot.x, height / 2, shot.z);
                pillar.castShadow = true;
                
                // Add subtle glow effect with PSG colors
                const glowGeometry = new THREE.CylinderGeometry(0.2, 0.25, height + 0.1, 8);
                const glowMaterial = new THREE.MeshBasicMaterial({
                    color: color,
                    transparent: true,
                    opacity: 0.15
                });
                const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                glow.position.set(shot.x, height / 2, shot.z);
                
                scene.add(pillar);
                scene.add(glow);
                pillars.push({ pillar, glow, originalHeight: height });
            });
        }

        function setupScrollTrigger() {
            // Register ScrollTrigger plugin
            gsap.registerPlugin(ScrollTrigger);
            
            let cameraAnimation = null;
            
            // ScrollTrigger for section visibility and camera animation
            ScrollTrigger.create({
                trigger: ".scroll-section",
                start: "top bottom",
                end: "bottom 20%",
                onEnter: () => {
                    isScrollSectionVisible = true;
                    animatePillarsIn();
                    
                    // Start smooth automatic camera rotation immediately as we enter
                    if (cameraAnimation) cameraAnimation.kill();
                    
                    cameraAnimation = gsap.to(camera.position, {
                        duration: 2,
                        ease: "power2.inOut",
                        x: 15,
                        y: 12,
                        z: 8,
                        onUpdate: () => {
                            camera.lookAt(0, 0, -5.25);
                        }
                    });
                },
                onLeave: () => {
                    isScrollSectionVisible = false;
                    if (cameraAnimation) {
                        cameraAnimation.kill();
                        cameraAnimation = null;
                    }
                },
                onEnterBack: () => {
                    isScrollSectionVisible = true;
                },
                onLeaveBack: () => {
                    isScrollSectionVisible = false;
                    if (cameraAnimation) {
                        cameraAnimation.kill();
                        cameraAnimation = null;
                    }
                }
            });
        }

        function animatePillarsIn() {
            pillars.forEach((pillarObj, index) => {
                gsap.fromTo(pillarObj.pillar.scale,
                    { y: 0 },
                    {
                        y: 1,
                        duration: 0.6,
                        delay: 0,
                        ease: "power2.out"
                    }
                );
                gsap.fromTo(pillarObj.glow.scale,
                    { y: 0 },
                    {
                        y: 1,
                        duration: 0.6,
                        delay: 0,
                        ease: "power2.out"
                    }
                );
            });
        }

        function animate() {
            requestAnimationFrame(animate);
            
            if (isScrollSectionVisible) {
                // Subtle rotation animation for pillars only
                pillars.forEach((pillarObj, index) => {
                    pillarObj.pillar.rotation.y += 0.005;
                    pillarObj.glow.rotation.y += 0.005;
                });
            }
            
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            const container = document.getElementById('basketball-canvas').parentElement;
            camera.aspect = container.offsetWidth / container.offsetHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.offsetWidth, container.offsetHeight);
        }

        // Initialize the basketball scene when the page loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                initBasketballScene();
                initPlayerProfile();
            }, 1000); // Delay to ensure all libraries are loaded
        });

        // Also initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            // Backup initialization in case window load doesn't fire
            setTimeout(() => {
                if (!mobilityChart) {
                    initPlayerProfile();
                }
            }, 2000);
        });

        // Toggle function for expandable service boxes
        function toggleBox(element) {
            element.classList.toggle('expanded');
        }

        // Player Profile Interface
        let currentChart = null;
        let chartCanvas = null;

        let radarAnimationState = {
            attributesVisible: false,
            top50Visible: false,
            conferenceVisible: false,
            currentProgress: 0
        };

        function initPlayerProfile() {
            console.log('Initializing player profile...');
            
            // Initialize the Chart.js mobility chart with scroll triggers
            setTimeout(() => {
                setupRadarScrollTrigger();
            }, 500);
        }

        function setupRadarScrollTrigger() {
            const qbCanvas = document.getElementById('qb-mobility-chart');
            const wrCanvas = document.getElementById('wr-mobility-chart');
            
            if (!qbCanvas || !wrCanvas) {
                console.log('Mobility chart canvases not found');
                return;
            }

            console.log('Setting up Chart.js radar charts...');
            
            // Initialize both Chart.js radar charts
            initChartJsRadar(qbCanvas, 'qb');
            initChartJsRadar(wrCanvas, 'wr');
            
            // ScrollTrigger for progressive animation
            ScrollTrigger.create({
                trigger: "#mission-vision-section",
                start: "top 80%",
                end: "bottom 20%",
                scrub: 1,
                onUpdate: (self) => {
                    const progress = self.progress;
                    updateChartJsRadar(progress, 'qb');
                    updateChartJsRadar(progress, 'wr');
                }
            });
        }

        function initializeMobilityChart() {
            const canvas = document.getElementById('mobility-chart');
            if (!canvas) {
                console.log('Mobility chart canvas not found');
                return;
            }
            
            console.log('Drawing pocket mobility chart...');
            const ctx = canvas.getContext('2d');
            drawPocketMobilityChart(ctx, 1.0);
        }

        // Chart.js Radar Chart Implementation
        let qbMobilityChart = null;
        let wrMobilityChart = null;
        
        function initChartJsRadar(canvas, position) {
            const ctx = canvas.getContext('2d');
            
            // Destroy existing chart if it exists
            if (position === 'qb' && qbMobilityChart) {
                qbMobilityChart.destroy();
            } else if (position === 'wr' && wrMobilityChart) {
                wrMobilityChart.destroy();
            }
            
            // Define data based on position
            let data, labels;
            
            if (position === 'qb') {
                labels = [
                    'Pocket Presence',
                    'Scramble Ability',
                    'Evasion',
                    'Rollout Accuracy',
                    'Escape Rate',
                    'Mobility Index'
                ];
                data = {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Sample Player',
                            data: [8.9, 4.2, 9.6, 7.1, 3.8, 9.3],
                            backgroundColor: 'rgba(199, 217, 229, 0.3)',
                            borderColor: '#C7D9E5',
                            borderWidth: 3,
                            pointBackgroundColor: '#C7D9E5',
                            pointBorderColor: '#F4EFEB',
                            pointBorderWidth: 2,
                            pointRadius: 6,
                            pointHoverRadius: 8,
                            tension: 0.1,
                            hidden: false
                        },
                        {
                            label: 'League Average',
                            data: [4.8, 5.3, 4.6, 5.7, 4.9, 5.1],
                            backgroundColor: 'rgba(255, 255, 255, 0.1)',
                            borderColor: 'rgba(255, 255, 255, 0.5)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(255, 255, 255, 0.7)',
                            pointBorderColor: 'rgba(255, 255, 255, 0.9)',
                            pointBorderWidth: 1,
                            pointRadius: 4,
                            hidden: false // Show immediately with text
                        },
                        {
                            label: 'Conference Average',
                            data: [6.1, 6.8, 5.4, 6.9, 5.8, 6.3],
                            backgroundColor: 'rgba(87, 124, 141, 0.1)',
                            borderColor: 'rgba(87, 124, 141, 0.6)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(87, 124, 141, 0.8)',
                            pointBorderColor: 'rgba(87, 124, 141, 1)',
                            pointBorderWidth: 1,
                            pointRadius: 4,
                            hidden: false // Show immediately with text
                        },
                        {
                            label: 'Elite Threshold',
                            data: [8.3, 7.6, 8.7, 8.1, 7.9, 8.4],
                            backgroundColor: 'rgba(244, 239, 235, 0.1)',
                            borderColor: 'rgba(244, 239, 235, 0.7)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(244, 239, 235, 0.9)',
                            pointBorderColor: '#F4EFEB',
                            pointBorderWidth: 1,
                            pointRadius: 4,
                            hidden: false // Show immediately with text
                        }
                    ]
                };
            } else {
                labels = [
                    'Route Precision',
                    'Separation Speed',
                    'Catch Radius',
                    'YAC Ability',
                    'Release Quickness',
                    'Route Diversity'
                ];
                data = {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Sample Player',
                            data: [9.1, 7.3, 8.8, 6.2, 9.4, 7.9],
                            backgroundColor: 'rgba(199, 217, 229, 0.3)',
                            borderColor: '#C7D9E5',
                            borderWidth: 3,
                            pointBackgroundColor: '#C7D9E5',
                            pointBorderColor: '#F4EFEB',
                            pointBorderWidth: 2,
                            pointRadius: 6,
                            pointHoverRadius: 8,
                            tension: 0.1,
                            hidden: false
                        },
                        {
                            label: 'League Average',
                            data: [4.9, 5.6, 4.3, 5.8, 4.7, 5.2],
                            backgroundColor: 'rgba(255, 255, 255, 0.1)',
                            borderColor: 'rgba(255, 255, 255, 0.5)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(255, 255, 255, 0.7)',
                            pointBorderColor: 'rgba(255, 255, 255, 0.9)',
                            pointBorderWidth: 1,
                            pointRadius: 4,
                            hidden: false // Show immediately with text
                        },
                        {
                            label: 'Conference Average',
                            data: [6.4, 6.1, 6.7, 5.9, 6.3, 6.0],
                            backgroundColor: 'rgba(87, 124, 141, 0.1)',
                            borderColor: 'rgba(87, 124, 141, 0.6)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(87, 124, 141, 0.8)',
                            pointBorderColor: 'rgba(87, 124, 141, 1)',
                            pointBorderWidth: 1,
                            pointRadius: 4,
                            hidden: false // Show immediately with text
                        },
                        {
                            label: 'Elite Threshold',
                            data: [8.2, 7.8, 8.6, 7.9, 8.1, 8.4],
                            backgroundColor: 'rgba(244, 239, 235, 0.1)',
                            borderColor: 'rgba(244, 239, 235, 0.7)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(244, 239, 235, 0.9)',
                            pointBorderColor: '#F4EFEB',
                            pointBorderWidth: 1,
                            pointRadius: 4,
                            hidden: false // Show immediately with text
                        }
                    ]
                };
            }
            
            const config = {
                type: 'radar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: false // Remove title as requested
                        },
                        legend: {
                            display: false // Remove legend completely
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 10,
                            min: 0,
                            ticks: {
                                stepSize: 2,
                                color: 'rgba(255, 255, 255, 0.6)',
                                font: {
                                    size: 11,
                                    family: 'Inter',
                                    weight: '400'
                                },
                                backdropColor: 'transparent'
                            },
                            grid: {
                                color: 'rgba(199, 217, 229, 0.3)',
                                lineWidth: 1
                            },
                            angleLines: {
                                color: 'rgba(199, 217, 229, 0.3)',
                                lineWidth: 1
                            },
                            pointLabels: {
                                color: 'rgba(255, 255, 255, 0.9)',
                                font: {
                                    size: 13,
                                    weight: '500',
                                    family: 'Inter'
                                }
                            }
                        }
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeInOutQuart'
                    },
                    interaction: {
                        intersect: false,
                        mode: 'point'
                    }
                }
            };
            
            if (position === 'qb') {
                qbMobilityChart = new Chart(ctx, config);
            } else {
                wrMobilityChart = new Chart(ctx, config);
            }
        }
        
        function updateChartJsRadar(progress, position) {
            const chart = position === 'qb' ? qbMobilityChart : wrMobilityChart;
            
            if (!chart || !chart.data || !chart.data.datasets) return;
            
            try {
                // Store original data values if not already stored
                if (!chart.originalData) {
                    chart.originalData = chart.data.datasets.map(dataset => [...dataset.data]);
                }
                
                const datasets = chart.data.datasets;
                const originalData = chart.originalData;
                
                // Charts are always visible (structure appears immediately)
                // No need to set hidden = false since charts start visible
                
                // Progressive data animation sequence:
                // 0-25%: League Average data grows from 0 to full values
                // 25-50%: Conference Average data grows from 0 to full values
                // 50-75%: Elite Threshold data grows from 0 to full values
                // 75-100%: Sample Player data grows from 0 to full values
                
                // League Average (dataset 1) - 0-25% progress
                const leagueProgress = Math.max(0, Math.min(1, (progress - 0) / 0.25));
                datasets[1].data = originalData[1].map(value => value * leagueProgress);
                
                // Conference Average (dataset 2) - 25-50% progress
                const conferenceProgress = Math.max(0, Math.min(1, (progress - 0.25) / 0.25));
                datasets[2].data = originalData[2].map(value => value * conferenceProgress);
                
                // Elite Threshold (dataset 3) - 50-75% progress
                const eliteProgress = Math.max(0, Math.min(1, (progress - 0.5) / 0.25));
                datasets[3].data = originalData[3].map(value => value * eliteProgress);
                
                // Sample Player (dataset 0) - 75-100% progress
                const playerProgress = Math.max(0, Math.min(1, (progress - 0.75) / 0.25));
                datasets[0].data = originalData[0].map(value => value * playerProgress);
                
                // Update chart with smooth animation
                chart.update('none'); // Use 'none' to avoid conflicting animations
            } catch (error) {
                console.error(`Error updating ${position} radar chart:`, error);
            }
        }

        // Legacy function - replaced by Chart.js implementation above
        function drawPocketMobilityChart(ctx, progress = 1.0) {
            const canvas = ctx.canvas;
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Chart dimensions
            const centerX = width / 2;
            const centerY = height / 2 + 10;
            const maxRadius = Math.min(width, height) / 3;
            
            // Draw title
            ctx.fillStyle = '#F4EFEB';
            ctx.font = 'bold 16px Inter, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('Pocket Mobility Analysis', centerX, 25);
            
            // Mobility metrics with angles around the circle
            const metrics = [
                { label: 'Pocket Presence', value: 8.7, angle: 0 },
                { label: 'Scramble Ability', value: 7.8, angle: Math.PI / 3 },
                { label: 'Evasion', value: 8.2, angle: 2 * Math.PI / 3 },
                { label: 'Rollout Accuracy', value: 8.9, angle: Math.PI },
                { label: 'Escape Rate', value: 7.6, angle: 4 * Math.PI / 3 },
                { label: 'Mobility Index', value: 8.7, angle: 5 * Math.PI / 3 }
            ];
            
            // Draw concentric circles (rating levels)
            for (let i = 1; i <= 5; i++) {
                const radius = (i / 5) * maxRadius;
                ctx.strokeStyle = 'rgba(199, 217, 229, 0.2)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
                ctx.stroke();
                
                // Add scale numbers
                if (i % 2 === 0) {
                    ctx.fillStyle = 'rgba(244, 239, 235, 0.6)';
                    ctx.font = '10px Inter, sans-serif';
                    ctx.textAlign = 'center';
                    ctx.fillText((i * 2).toString(), centerX + radius + 10, centerY + 3);
                }
            }
            
            // Draw axis lines from center to each metric
            metrics.forEach(metric => {
                const endX = centerX + Math.cos(metric.angle) * maxRadius;
                const endY = centerY + Math.sin(metric.angle) * maxRadius;
                
                ctx.strokeStyle = 'rgba(199, 217, 229, 0.3)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            });
            
            // Draw comparison overlays (league, conference, elite)
            const overlays = [
                { label: 'League Avg', values: [5.9, 5.2, 5.8, 6.1, 5.4, 5.9], color: 'rgba(255, 255, 255, 0.1)', strokeColor: 'rgba(255, 255, 255, 0.3)' },
                { label: 'Conference Avg', values: [6.4, 5.8, 6.2, 6.5, 5.9, 6.4], color: 'rgba(199, 217, 229, 0.1)', strokeColor: 'rgba(199, 217, 229, 0.4)' },
                { label: 'Elite Threshold', values: [8.5, 8.0, 8.3, 8.7, 8.1, 8.5], color: 'rgba(244, 239, 235, 0.1)', strokeColor: 'rgba(244, 239, 235, 0.5)' }
            ];
            
            // Draw overlay polygons
            overlays.forEach(overlay => {
                ctx.beginPath();
                overlay.values.forEach((value, index) => {
                    const metric = metrics[index];
                    const radius = (value / 10) * maxRadius;
                    const x = centerX + Math.cos(metric.angle) * radius;
                    const y = centerY + Math.sin(metric.angle) * radius;
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.closePath();
                
                // Fill overlay
                ctx.fillStyle = overlay.color;
                ctx.fill();
                
                // Stroke overlay
                ctx.strokeStyle = overlay.strokeColor;
                ctx.lineWidth = 2;
                ctx.stroke();
            });
            
            // Progressive animation based on scroll progress
            // 0-20%: Show attributes and axis lines only
            // 20-30%: Add League Average overlay
            // 30-60%: Add Top 50 QBs overlay
            // 60-90%: Add Conference QBs overlay
            // 90-100%: Add Sample Player polygon
            
            // Draw League Average overlay (appears at 20% progress)
            if (progress > 0.2) {
                const leagueAlpha = Math.min((progress - 0.2) / 0.1, 1.0);
                const leagueOverlay = overlays[0]; // League Avg
                
                ctx.globalAlpha = leagueAlpha;
                ctx.beginPath();
                leagueOverlay.values.forEach((value, index) => {
                    const metric = metrics[index];
                    const radius = (value / 10) * maxRadius;
                    const x = centerX + Math.cos(metric.angle) * radius;
                    const y = centerY + Math.sin(metric.angle) * radius;
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.closePath();
                ctx.fillStyle = leagueOverlay.color;
                ctx.fill();
                ctx.strokeStyle = leagueOverlay.strokeColor;
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.globalAlpha = 1.0;
            }
            
            // Draw Top 50 QBs overlay (appears at 30% progress)
            if (progress > 0.3) {
                const top50Alpha = Math.min((progress - 0.3) / 0.3, 1.0);
                const top50Overlay = overlays[2]; // Elite Threshold (representing Top 50)
                
                ctx.globalAlpha = top50Alpha;
                ctx.beginPath();
                top50Overlay.values.forEach((value, index) => {
                    const metric = metrics[index];
                    const radius = (value / 10) * maxRadius;
                    const x = centerX + Math.cos(metric.angle) * radius;
                    const y = centerY + Math.sin(metric.angle) * radius;
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.closePath();
                ctx.fillStyle = top50Overlay.color;
                ctx.fill();
                ctx.strokeStyle = top50Overlay.strokeColor;
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.globalAlpha = 1.0;
            }
            
            // Draw Conference QBs overlay (appears at 60% progress)
            if (progress > 0.6) {
                const conferenceAlpha = Math.min((progress - 0.6) / 0.3, 1.0);
                const conferenceOverlay = overlays[1]; // Conference Avg
                
                ctx.globalAlpha = conferenceAlpha;
                ctx.beginPath();
                conferenceOverlay.values.forEach((value, index) => {
                    const metric = metrics[index];
                    const radius = (value / 10) * maxRadius;
                    const x = centerX + Math.cos(metric.angle) * radius;
                    const y = centerY + Math.sin(metric.angle) * radius;
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.closePath();
                ctx.fillStyle = conferenceOverlay.color;
                ctx.fill();
                ctx.strokeStyle = conferenceOverlay.strokeColor;
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.globalAlpha = 1.0;
            }
            
            // Draw Sample Player's performance polygon (appears at 90% progress)
            if (progress > 0.9) {
                const playerAlpha = Math.min((progress - 0.9) / 0.1, 1.0);
                
                ctx.globalAlpha = playerAlpha;
                ctx.beginPath();
                metrics.forEach((metric, index) => {
                    const radius = (metric.value / 10) * maxRadius;
                    const x = centerX + Math.cos(metric.angle) * radius;
                    const y = centerY + Math.sin(metric.angle) * radius;
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.closePath();
                
                // Fill Sample Player's polygon
                ctx.fillStyle = 'rgba(199, 217, 229, 0.3)';
                ctx.fill();
                
                // Stroke Sample Player's polygon
                ctx.strokeStyle = '#C7D9E5';
                ctx.lineWidth = 3;
                ctx.stroke();
                
                // Draw metric points
                metrics.forEach(metric => {
                    const radius = (metric.value / 10) * maxRadius;
                    const pointX = centerX + Math.cos(metric.angle) * radius;
                    const pointY = centerY + Math.sin(metric.angle) * radius;
                    
                    // Draw point
                    ctx.fillStyle = '#C7D9E5';
                    ctx.beginPath();
                    ctx.arc(pointX, pointY, 4, 0, 2 * Math.PI);
                    ctx.fill();
                });
                ctx.globalAlpha = 1.0;
            }
            
            // Always draw metric labels (visible from start)
            metrics.forEach(metric => {
                const labelRadius = maxRadius + 20;
                const labelX = centerX + Math.cos(metric.angle) * labelRadius;
                const labelY = centerY + Math.sin(metric.angle) * labelRadius;
                
                ctx.fillStyle = '#F4EFEB';
                ctx.font = '11px Inter, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(metric.label, labelX, labelY);
                
                // Show values only when player polygon is visible
                if (progress > 0.9) {
                    ctx.fillText(metric.value.toString(), labelX, labelY + 12);
                }
            });
            
            // Draw center point
            ctx.fillStyle = '#C7D9E5';
            ctx.beginPath();
            ctx.arc(centerX, centerY, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Draw legend
            const legendY = height - 60;
            const legendItems = ['League Avg', 'Conference Avg', 'Elite Threshold', 'Sample Player'];
            const legendColors = ['rgba(255, 255, 255, 0.5)', 'rgba(199, 217, 229, 0.7)', 'rgba(244, 239, 235, 0.8)', '#C7D9E5'];
            
            legendItems.forEach((item, index) => {
                const x = 20 + index * 90;
                
                // Draw color indicator
                ctx.fillStyle = legendColors[index];
                ctx.fillRect(x, legendY, 12, 12);
                
                // Draw label
                ctx.fillStyle = '#F4EFEB';
                ctx.font = '10px Inter, sans-serif';
                ctx.textAlign = 'left';
                ctx.fillText(item, x + 16, legendY + 9);
            });
        }

        function updateChart(metric) {
            if (!chartCanvas) return;
            
            const ctx = chartCanvas.getContext('2d');
            
            // Set canvas size if not already set
            if (chartCanvas.width === 0 || chartCanvas.height === 0) {
                chartCanvas.width = 400;
                chartCanvas.height = 300;
            }
            
            ctx.clearRect(0, 0, chartCanvas.width, chartCanvas.height);
            
            switch(metric) {
                case 'completion':
                    drawBarChart(ctx, 'Completion Rate Analysis', 68.4);
                    break;
                case 'pressure':
                    drawLineChart(ctx, 'Under Pressure Trend');
                    break;
                case 'longball':
                    drawNormalDistribution(ctx, 'Long Ball Consistency Distribution', 85.2);
                    break;
                case 'redzone':
                    drawPieChart(ctx, 'Red Zone Outcome Breakdown', 91.3);
                    break;
                case 'mobility':
                    drawMobilityChart(ctx, 'Pocket Mobility Analysis', 8.7);
                    break;
                default:
                    drawNormalDistribution(ctx, 'Long Ball Consistency Distribution', 85.2);
                    break;
            }
        }

        function drawMobilityChart(ctx, title, rating) {
            const width = chartCanvas.width;
            const height = chartCanvas.height;
            const padding = 50;
            
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 18px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(title, width / 2, 30);
            
            // Draw radar chart background
            const centerX = width / 2;
            const centerY = height / 2 + 10;
            const maxRadius = Math.min(width, height) / 3;
            
            // Mobility metrics
            const metrics = [
                { label: 'Pocket Presence', value: 8.7, angle: 0 },
                { label: 'Scramble Ability', value: 7.8, angle: Math.PI / 3 },
                { label: 'Evasion', value: 8.2, angle: 2 * Math.PI / 3 },
                { label: 'Rollout Accuracy', value: 8.9, angle: Math.PI },
                { label: 'Escape Rate', value: 7.6, angle: 4 * Math.PI / 3 },
                { label: 'Mobility Index', value: 8.7, angle: 5 * Math.PI / 3 }
            ];
            
            // Draw concentric circles (rating levels)
            for (let i = 1; i <= 5; i++) {
                const radius = (i / 5) * maxRadius;
                ctx.strokeStyle = '#1a237e';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
                ctx.stroke();
                
                // Draw rating labels
                ctx.fillStyle = '#C7D9E5';
                ctx.font = '10px Inter';
                ctx.textAlign = 'center';
                ctx.fillText((i * 2).toString(), centerX + radius + 10, centerY + 3);
            }
            
            // Draw axis lines
            metrics.forEach(metric => {
                const endX = centerX + Math.cos(metric.angle - Math.PI / 2) * maxRadius;
                const endY = centerY + Math.sin(metric.angle - Math.PI / 2) * maxRadius;
                
                ctx.strokeStyle = '#1a237e';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
                
                // Draw labels
                const labelX = centerX + Math.cos(metric.angle - Math.PI / 2) * (maxRadius + 20);
                const labelY = centerY + Math.sin(metric.angle - Math.PI / 2) * (maxRadius + 20);
                
                ctx.fillStyle = '#ffffff';
                ctx.font = '11px Inter';
                ctx.textAlign = 'center';
                ctx.fillText(metric.label, labelX, labelY);
                ctx.fillText(metric.value.toString(), labelX, labelY + 12);
            });
            
            // Draw player performance polygon
            ctx.strokeStyle = '#1976d2';
            ctx.fillStyle = 'rgba(25, 118, 210, 0.3)';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            metrics.forEach((metric, index) => {
                const radius = (metric.value / 10) * maxRadius;
                const x = centerX + Math.cos(metric.angle - Math.PI / 2) * radius;
                const y = centerY + Math.sin(metric.angle - Math.PI / 2) * radius;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // Draw data points
                ctx.fillStyle = '#ffd700';
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Add overall rating
            ctx.fillStyle = '#ffd700';
            ctx.font = 'bold 16px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(`Overall: ${rating}/10`, centerX, centerY + 5);
            
            // Add percentile ranking
            ctx.fillStyle = '#C7D9E5';
            ctx.font = '14px Inter';
            ctx.fillText('89th Percentile', centerX, height - 20);
        }

        function drawBarChart(ctx, title, value) {
            const width = chartCanvas.width;
            const height = chartCanvas.height;
            const padding = 50;
            
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 18px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(title, width / 2, 30);
            
            // Draw axes
            ctx.strokeStyle = '#1a237e';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(padding, padding);
            ctx.stroke();
            
            // Performance categories with comparative data
            const categories = [
                { label: 'Marcus J.', value: value, color: '#1976d2' },
                { label: 'League Avg', value: 63.1, color: '#ff6b6b' },
                { label: 'Top 10%', value: 78.2, color: '#4caf50' },
                { label: 'Elite', value: 85.7, color: '#ffd700' }
            ];
            
            const barWidth = (width - 2 * padding) / (categories.length * 1.5);
            const maxValue = Math.max(...categories.map(c => c.value));
            
            categories.forEach((cat, index) => {
                const barHeight = (cat.value / maxValue) * (height - 2 * padding - 40);
                const barX = padding + (index * barWidth * 1.2) + 20;
                const barY = height - padding - barHeight;
                
                // Draw bar with gradient effect
                const gradient = ctx.createLinearGradient(0, barY, 0, barY + barHeight);
                gradient.addColorStop(0, cat.color);
                gradient.addColorStop(1, cat.color + '80');
                
                ctx.fillStyle = gradient;
                ctx.fillRect(barX, barY, barWidth, barHeight);
                
                // Draw value on top
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 14px Inter';
                ctx.textAlign = 'center';
                ctx.fillText(`${cat.value}%`, barX + barWidth/2, barY - 5);
                
                // Draw label
                ctx.font = '12px Inter';
                ctx.fillText(cat.label, barX + barWidth/2, height - padding + 20);
            });
            
            // Add percentile ranking
            ctx.fillStyle = '#C7D9E5';
            ctx.font = '14px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('74th Percentile Performance', width / 2, height - 10);
        }

        function drawLineChart(ctx, title) {
            const width = chartCanvas.width;
            const height = chartCanvas.height;
            const padding = 50;
            
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 18px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(title, width / 2, 30);
            
            // Draw axes
            ctx.strokeStyle = '#1a237e';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(padding, padding);
            ctx.stroke();
            
            // Game-by-game performance data
            const gameData = [
                { game: 1, value: 65.2, opponent: 'Rice' },
                { game: 2, value: 71.8, opponent: 'UTSA' },
                { game: 3, value: 68.9, opponent: 'Baylor' },
                { game: 4, value: 74.3, opponent: 'TCU' },
                { game: 5, value: 69.1, opponent: 'OU' },
                { game: 6, value: 72.6, opponent: 'KSU' },
                { game: 7, value: 76.4, opponent: 'ISU' },
                { game: 8, value: 71.2, opponent: 'TTU' }
            ];
            
            const chartWidth = width - 2 * padding;
            const chartHeight = height - 2 * padding - 40;
            const maxValue = Math.max(...gameData.map(d => d.value));
            const minValue = Math.min(...gameData.map(d => d.value));
            const range = maxValue - minValue + 10;
            
            // Draw trend line
            ctx.strokeStyle = '#1976d2';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            gameData.forEach((point, index) => {
                const x = padding + (index / (gameData.length - 1)) * chartWidth;
                const y = height - padding - ((point.value - minValue + 5) / range) * chartHeight;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // Draw data points with opponent labels
            gameData.forEach((point, index) => {
                const x = padding + (index / (gameData.length - 1)) * chartWidth;
                const y = height - padding - ((point.value - minValue + 5) / range) * chartHeight;
                
                // Draw point
                ctx.fillStyle = '#ffd700';
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // Draw value
                ctx.fillStyle = '#ffffff';
                ctx.font = '10px Inter';
                ctx.textAlign = 'center';
                ctx.fillText(`${point.value}%`, x, y - 10);
                
                // Draw opponent
                ctx.fillStyle = '#C7D9E5';
                ctx.fillText(point.opponent, x, height - padding + 15);
            });
            
            // Draw league average line
            const avgValue = 63.1;
            const avgY = height - padding - ((avgValue - minValue + 5) / range) * chartHeight;
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(padding, avgY);
            ctx.lineTo(width - padding, avgY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Average label
            ctx.fillStyle = '#ff6b6b';
            ctx.font = '12px Inter';
            ctx.textAlign = 'left';
            ctx.fillText('League Avg', padding + 5, avgY - 5);
        }

        function drawPieChart(ctx, title, value) {
            const width = chartCanvas.width;
            const height = chartCanvas.height;
            
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 18px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(title, width / 2, 30);
            
            const centerX = width / 2;
            const centerY = height / 2 + 20;
            const radius = 70;
            
            // Red zone breakdown data
            const segments = [
                { label: 'TD Pass', value: 65, color: '#4caf50' },
                { label: 'TD Rush', value: 26, color: '#1976d2' },
                { label: 'Field Goal', value: 7, color: '#ffd700' },
                { label: 'Turnover', value: 2, color: '#f44336' }
            ];
            
            let currentAngle = -Math.PI / 2; // Start at top
            
            segments.forEach((segment, index) => {
                const segmentAngle = (segment.value / 100) * 2 * Math.PI;
                
                // Draw segment
                ctx.fillStyle = segment.color;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + segmentAngle);
                ctx.closePath();
                ctx.fill();
                
                // Draw segment outline
                ctx.strokeStyle = '#000000';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Draw label
                const labelAngle = currentAngle + segmentAngle / 2;
                const labelX = centerX + Math.cos(labelAngle) * (radius + 25);
                const labelY = centerY + Math.sin(labelAngle) * (radius + 25);
                
                ctx.fillStyle = '#ffffff';
                ctx.font = '12px Inter';
                ctx.textAlign = 'center';
                ctx.fillText(segment.label, labelX, labelY);
                ctx.fillText(`${segment.value}%`, labelX, labelY + 15);
                
                currentAngle += segmentAngle;
            });
            
            // Draw center circle with overall percentage
            ctx.fillStyle = '#000000';
            ctx.beginPath();
            ctx.arc(centerX, centerY, 25, 0, 2 * Math.PI);
            ctx.fill();
            
            ctx.fillStyle = '#ffd700';
            ctx.font = 'bold 16px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(`${value}%`, centerX, centerY + 5);
            
            // Add efficiency ranking
            ctx.fillStyle = '#C7D9E5';
            ctx.font = '14px Inter';
            ctx.fillText('96th Percentile', centerX, height - 20);
        }

        // Setup ScrollTrigger for player profile
        function setupPlayerProfileScrollTrigger() {
            ScrollTrigger.create({
                trigger: "#mission-section",
                start: "top 80%",
                end: "bottom 20%",
                onEnter: () => {
                    initPlayerProfile();
                }
            });
        }

        // Initialize player profile when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupPlayerProfileScrollTrigger();
        });

        function drawNormalDistribution(ctx, title, mean) {
            const width = chartCanvas.width;
            const height = chartCanvas.height;
            const padding = 40;
            
            // Clear and set background
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, width, height);
            
            // Draw title
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 18px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(title, width / 2, 30);
            
            // Draw axes
            ctx.strokeStyle = '#1a237e';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(padding, padding);
            ctx.stroke();
            
            // Draw axis labels
            ctx.fillStyle = '#C7D9E5';
            ctx.font = '12px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('Performance %', width / 2, height - 10);
            
            ctx.save();
            ctx.translate(15, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Frequency', 0, 0);
            ctx.restore();
            
            // Draw normal distribution curve
            ctx.strokeStyle = '#ffd700';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            const chartWidth = width - 2 * padding;
            const chartHeight = height - 2 * padding - 40;
            const stdDev = 12;
            const leagueAverage = 72.3;
            
            for (let x = 0; x <= chartWidth; x++) {
                const value = (x / chartWidth) * 100;
                const y = Math.exp(-0.5 * Math.pow((value - leagueAverage) / stdDev, 2));
                const normalizedY = y * chartHeight * 0.6;
                const canvasY = height - padding - normalizedY;
                
                if (x === 0) {
                    ctx.moveTo(padding + x, canvasY);
                } else {
                    ctx.lineTo(padding + x, canvasY);
                }
            }
            ctx.stroke();
            
            // Generate "bogey points" - scattered data points showing individual performances
            const bogeyPoints = [];
            for (let i = 0; i < 45; i++) {
                // Generate points around the normal distribution with some randomness
                const baseValue = leagueAverage + (Math.random() - 0.5) * stdDev * 3;
                const jitter = (Math.random() - 0.5) * 8; // Add some vertical jitter
                const value = Math.max(30, Math.min(95, baseValue));
                const normalizedValue = Math.exp(-0.5 * Math.pow((value - leagueAverage) / stdDev, 2));
                const y = normalizedValue * chartHeight * 0.6 + jitter;
                
                bogeyPoints.push({
                    x: padding + (value / 100) * chartWidth,
                    y: height - padding - y,
                    value: value
                });
            }
            
            // Draw bogey points
            bogeyPoints.forEach(point => {
                ctx.fillStyle = 'rgba(199, 217, 229, 0.7)';
                ctx.beginPath();
                ctx.arc(point.x, point.y, 3, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            // Draw Sample Player's position (blue circle)
            const marcusX = padding + (mean / 100) * chartWidth;
            const marcusNormalizedY = Math.exp(-0.5 * Math.pow((mean - leagueAverage) / stdDev, 2));
            const marcusY = height - padding - (marcusNormalizedY * chartHeight * 0.6);
            
            // Blue circle with glow effect
            ctx.shadowColor = '#64b5f6';
            ctx.shadowBlur = 15;
            ctx.fillStyle = '#1976d2';
            ctx.beginPath();
            ctx.arc(marcusX, marcusY, 8, 0, 2 * Math.PI);
            ctx.fill();
            
            // Inner highlight
            ctx.shadowBlur = 0;
            ctx.fillStyle = '#64b5f6';
            ctx.beginPath();
            ctx.arc(marcusX, marcusY, 5, 0, 2 * Math.PI);
            ctx.fill();
            
            // Player label
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 14px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('Marcus J.', marcusX, marcusY - 20);
            ctx.font = '12px Inter';
            ctx.fillText(`${mean}%`, marcusX, marcusY - 5);
            
            // Draw league average line
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            const avgX = padding + (leagueAverage / 100) * chartWidth;
            ctx.beginPath();
            ctx.moveTo(avgX, padding + 40);
            ctx.lineTo(avgX, height - padding);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // League average label
            ctx.fillStyle = '#ff6b6b';
            ctx.font = '12px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(`League Avg: ${leagueAverage}%`, avgX, padding + 35);
            
            // Add percentile indicators
            ctx.fillStyle = '#C7D9E5';
            ctx.font = '10px Inter';
            ctx.textAlign = 'left';
            
            // 25th percentile
            const p25 = leagueAverage - stdDev * 0.67;
            const p25X = padding + (p25 / 100) * chartWidth;
            ctx.fillText('25th', p25X, height - padding + 15);
            
            // 75th percentile
            const p75 = leagueAverage + stdDev * 0.67;
            const p75X = padding + (p75 / 100) * chartWidth;
            ctx.fillText('75th', p75X, height - padding + 15);
            
            // 90th percentile
            const p90 = leagueAverage + stdDev * 1.28;
            const p90X = padding + (p90 / 100) * chartWidth;
            ctx.fillText('90th', p90X, height - padding + 15);
        }

        // Complete toggle function for analytics boxes
        function toggleAnalyticsBox(element) {
            console.log('toggleAnalyticsBox called with:', element);
            console.log('Element dataset:', element.dataset);
            
            // Get all analytics options
            const allOptions = document.querySelectorAll('.analytics-option');
            console.log('Found all options:', allOptions.length);
            
            // Close all other boxes
            allOptions.forEach(option => {
                if (option !== element) {
                    console.log('Closing option:', option.dataset.metric);
                    option.classList.remove('expanded');
                }
            });
            
            // Toggle the clicked box
            const wasExpanded = element.classList.contains('expanded');
            console.log('Was expanded before toggle:', wasExpanded);
            
            element.classList.toggle('expanded');
            
            const isNowExpanded = element.classList.contains('expanded');
            console.log('Is now expanded after toggle:', isNowExpanded);
            
            // Update chart based on the metric
            const metric = element.dataset.metric;
            console.log('Metric for chart update:', metric);
            
            if (element.classList.contains('expanded')) {
                console.log('Updating chart for metric:', metric);
                updateChart(metric);
            }
        }

        // ===== MOBILE OPTIMIZATIONS JAVASCRIPT =====
        
        // Mobile device detection
        function isMobileDevice() {
            return window.innerWidth <= 992 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        
        // Dynamic font scaling based on screen size
        function adjustFontSizes() {
            const screenWidth = window.innerWidth;
            const baseSize = 16; // Base font size in px
            
            // Calculate scaling factor
            let scaleFactor = 1;
            if (screenWidth <= 576) {
                scaleFactor = 0.85; // 85% for very small screens
            } else if (screenWidth <= 768) {
                scaleFactor = 0.9; // 90% for small screens
            } else if (screenWidth <= 992) {
                scaleFactor = 0.95; // 95% for medium screens
            }
            
            // Apply dynamic scaling to specific elements
            const elementsToScale = [
                '.scroll-section-description',
                '.service-title',
                '.contact-info-title',
                '.form-group label'
            ];
            
            elementsToScale.forEach(selector => {
                const elements = document.querySelectorAll(selector);
                elements.forEach(element => {
                    const computedStyle = window.getComputedStyle(element);
                    const currentSize = parseFloat(computedStyle.fontSize);
                    element.style.fontSize = `${currentSize * scaleFactor}px`;
                });
            });
        }
        
        // Mobile-optimized basketball court scene
        function optimizeBasketballSceneForMobile() {
            if (!isMobileDevice() || !camera || !renderer) return;
            
            // Adjust camera position for mobile viewing
            camera.position.set(0, 25, 5); // Closer and lower angle for mobile
            camera.lookAt(0, 0, -5.25);
            
            // Reduce pillar count for better performance on mobile
            if (pillars.length > 50) {
                // Hide some pillars for better performance
                pillars.slice(50).forEach(pillarObj => {
                    pillarObj.pillar.visible = false;
                    pillarObj.glow.visible = false;
                });
            }
            
            // Adjust renderer settings for mobile
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Limit pixel ratio for performance
            renderer.shadowMap.enabled = false; // Disable shadows on mobile for performance
        }
        
        // Mobile-optimized chart sizing
        function optimizeChartsForMobile() {
            if (!isMobileDevice()) return;
            
            // Resize Chart.js radar charts for mobile
            [qbMobilityChart, wrMobilityChart].forEach(chart => {
                if (chart && chart.canvas) {
                    const container = chart.canvas.parentElement;
                    const containerWidth = container.offsetWidth;
                    const containerHeight = container.offsetHeight;
                    
                    // Update chart size
                    chart.resize(containerWidth, Math.min(containerHeight, 250));
                    
                    // Adjust chart options for mobile
                    if (chart.options && chart.options.scales && chart.options.scales.r) {
                        chart.options.scales.r.pointLabels.font.size = 10; // Smaller labels
                        chart.options.scales.r.ticks.font.size = 9; // Smaller tick labels
                        chart.update('none');
                    }
                }
            });
        }
        
        // Touch gesture handling for mobile
        function setupMobileGestures() {
            if (!isMobileDevice()) return;
            
            // Prevent zoom on double tap for better UX
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // Smooth scrolling for mobile
            if ('scrollBehavior' in document.documentElement.style) {
                document.documentElement.style.scrollBehavior = 'smooth';
            }
            
            // Optimize scroll performance
            let ticking = false;
            function updateOnScroll() {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        // Throttled scroll updates for mobile performance
                        ticking = false;
                    });
                    ticking = true;
                }
            }
            
            window.addEventListener('scroll', updateOnScroll, { passive: true });
        }
        
        // Mobile-specific particle configuration
        function initMobileParticles() {
            if (!isMobileDevice()) return;
            
            // Lighter particle configuration for mobile devices
            const mobileParticlesConfig = {
                "particles": {
                    "number": {
                        "value": 30, // Significantly reduced for mobile performance
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#1e3a8a"
                    },
                    "shape": {
                        "type": "circle"
                    },
                    "opacity": {
                        "value": 0.3, // Reduced opacity
                        "random": false
                    },
                    "size": {
                        "value": 2, // Smaller particles
                        "random": true
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 100, // Shorter connections
                        "color": "#1e3a8a",
                        "opacity": 0.2,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2, // Slower movement
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false // Disable hover on mobile
                        },
                        "onclick": {
                            "enable": false // Disable click effects on mobile
                        },
                        "resize": true
                    }
                },
                "retina_detect": false // Disable retina detection for performance
            };
            
            // Reinitialize particles with mobile config
            particlesJS('particles-scroll-section', mobileParticlesConfig);
            particlesJS('particles-mission-vision', mobileParticlesConfig);
            particlesJS('particles-contact', mobileParticlesConfig);
        }
        
        // Responsive resize handler
        function handleMobileResize() {
            if (!isMobileDevice()) return;
            
            // Debounce resize events
            clearTimeout(window.resizeTimeout);
            window.resizeTimeout = setTimeout(() => {
                // Adjust font sizes
                adjustFontSizes();
                
                // Optimize charts
                optimizeChartsForMobile();
                
                // Optimize basketball scene
                optimizeBasketballSceneForMobile();
                
                // Update Three.js renderer if it exists
                if (renderer && camera) {
                    onWindowResize();
                }
            }, 250);
        }
        
        // Mobile performance monitoring
        function monitorMobilePerformance() {
            if (!isMobileDevice()) return;
            
            // Monitor frame rate and adjust quality accordingly
            let frameCount = 0;
            let lastTime = performance.now();
            
            function checkPerformance() {
                frameCount++;
                const currentTime = performance.now();
                
                if (currentTime - lastTime >= 1000) { // Check every second
                    const fps = frameCount;
                    frameCount = 0;
                    lastTime = currentTime;
                    
                    // If FPS is too low, reduce quality
                    if (fps < 30 && renderer) {
                        renderer.setPixelRatio(1); // Reduce pixel ratio
                        
                        // Hide some visual effects
                        pillars.forEach((pillarObj, index) => {
                            if (index % 2 === 0) { // Hide every other glow effect
                                pillarObj.glow.visible = false;
                            }
                        });
                    }
                }
                
                requestAnimationFrame(checkPerformance);
            }
            
            requestAnimationFrame(checkPerformance);
        }
        
        // Initialize mobile optimizations
        function initMobileOptimizations() {
            if (!isMobileDevice()) return;
            
            console.log('Initializing mobile optimizations...');
            
            // Setup mobile-specific configurations
            setupMobileGestures();
            adjustFontSizes();
            initMobileParticles();
            monitorMobilePerformance();
            
            // Add mobile-specific event listeners
            window.addEventListener('resize', handleMobileResize, { passive: true });
            window.addEventListener('orientationchange', () => {
                setTimeout(handleMobileResize, 100); // Delay to ensure orientation change is complete
            });
            
            // Optimize existing components for mobile
            setTimeout(() => {
                optimizeBasketballSceneForMobile();
                optimizeChartsForMobile();
            }, 1000);
        }
        
        // Initialize mobile optimizations when DOM is ready
        document.addEventListener('DOMContentLoaded', initMobileOptimizations);
        
        // Also initialize on window load as backup
        window.addEventListener('load', () => {
            setTimeout(initMobileOptimizations, 500);
        });
        
    </script>
</body>
</html>